{
  "$schema": "../../../.claude/core/schemas/plugin.schema.json",
  "name": "claude-code-templating",
  "displayName": "Claude Code Templating",
  "version": "1.0.0",
  "apiVersion": "v1",
  "description": "Universal templating and Harness expert plugin for Claude Code - enables fully autonomous project generation, pipeline creation, and deployment automation through a unified template interface",
  "author": {
    "name": "Markus Ahling",
    "email": "markus@lobbi.io"
  },
  "license": "MIT",
  "repository": {
    "type": "git",
    "url": "https://github.com/Lobbi-Docs/claude",
    "directory": "plugins/claude-code-templating-plugin"
  },
  "categories": [
    "code-generation",
    "devops",
    "agents"
  ],
  "keywords": [
    "templating",
    "scaffolding",
    "harness",
    "pipelines",
    "cookiecutter",
    "copier",
    "maven-archetype",
    "mcp",
    "code-generation",
    "devops",
    "ci-cd",
    "infrastructure"
  ],
  "provides": {
    "agents": 5,
    "commands": 4,
    "skills": 3,
    "templates": "dynamic",
    "tools": 8
  },
  "discovery": {
    "agents": {
      "enabled": true,
      "directory": "agents",
      "pattern": "*.md",
      "indexFile": "registry/agents.index.json"
    },
    "skills": {
      "enabled": true,
      "directory": "skills",
      "pattern": "**/SKILL.md",
      "descriptionBased": true
    },
    "commands": {
      "enabled": true,
      "directory": "commands",
      "pattern": "*.md"
    }
  },
  "mcpServers": {
    "required": ["harness"],
    "recommended": ["scaffold", "github"],
    "optional": ["confluence", "context7"]
  },
  "permissions": {
    "filesystem": [
      { "path": "**/*", "access": "readwrite" }
    ],
    "network": [
      { "host": "*.harness.io", "protocols": ["https"] },
      { "host": "*.github.com", "protocols": ["https"] },
      { "host": "api.github.com", "protocols": ["https"] }
    ],
    "tools": [
      "Bash",
      "Read",
      "Write",
      "Edit",
      "Grep",
      "Glob",
      "Task"
    ],
    "mcpServers": ["harness", "github"]
  },
  "sandbox": {
    "enabled": true,
    "memoryLimit": "1G",
    "timeoutMs": 300000,
    "allowedCommands": [
      "npm",
      "npx",
      "node",
      "git",
      "docker",
      "helm",
      "kubectl",
      "terraform",
      "python",
      "pip",
      "cookiecutter",
      "copier"
    ]
  },
  "orchestration": {
    "enabled": true,
    "mandatory": false,
    "protocol": {
      "version": "1.0",
      "minSubAgents": 1,
      "maxSubAgents": 5,
      "defaultSubAgents": 3,
      "mandatoryPhases": ["plan", "code", "test"]
    },
    "features": {
      "tracking": true,
      "logging": true,
      "checkpointing": true,
      "coordination": true,
      "messaging": true,
      "contextPreservation": true
    }
  },
  "registry": {
    "enabled": true,
    "lazyLoading": true,
    "masterIndex": "registry/agents.index.json",
    "search": {
      "enabled": true,
      "fuzzyMatch": true,
      "keywordIndex": "registry/keywords.index.json"
    }
  },
  "agentCategories": {
    "templating": {
      "core": ["template-orchestrator", "pattern-matcher"],
      "loaders": ["cookiecutter-loader", "copier-loader", "maven-loader", "harness-loader"]
    },
    "harness": {
      "expert": ["harness-expert"],
      "generators": ["pipeline-generator", "template-generator", "service-generator"]
    },
    "scaffolding": {
      "agents": ["scaffold-agent", "codegen-agent", "database-agent", "testing-agent"]
    }
  },
  "commands": {
    "template": "commands/template.md",
    "scaffold": "commands/scaffold.md",
    "harness": "commands/harness.md",
    "generate": "commands/generate.md"
  },
  "agents": {
    "harness-expert": "agents/harness-expert.md",
    "scaffold-agent": "agents/scaffold-agent.md",
    "codegen-agent": "agents/codegen-agent.md",
    "database-agent": "agents/database-agent.md",
    "testing-agent": "agents/testing-agent.md"
  },
  "skills": {
    "universal-templating": "skills/universal-templating/SKILL.md",
    "harness-expert": "skills/harness-expert/SKILL.md",
    "project-scaffolding": "skills/project-scaffolding/SKILL.md"
  },
  "activation": {
    "auto": true,
    "priority": 150,
    "conditions": {
      "filePatterns": [
        "*.hbs",
        "cookiecutter.json",
        "copier.yml",
        "copier.yaml",
        "archetype-metadata.xml",
        ".harness/**/*.yaml",
        "pipeline.yaml"
      ],
      "keywords": [
        "template",
        "scaffold",
        "harness",
        "pipeline",
        "cookiecutter",
        "copier",
        "archetype",
        "generate"
      ]
    }
  },
  "minimumClaudeCodeVersion": "1.0.0",
  "scripts": {
    "postinstall": "npm run build",
    "validate": "npm run lint && npm run typecheck",
    "test": "npm run test:coverage"
  },
  "_note": "This is the extended schema for future Claude Code versions. Currently, use plugin.json with simplified schema."
}
