{
  "$schema": "../schemas/flags.schema.json",
  "version": "1.0.0",
  "description": "Comprehensive flag system for Jira Orchestrator commands",

  "globalFlags": {
    "output": {
      "--verbose": {
        "short": "-v",
        "type": "boolean",
        "default": false,
        "description": "Enable verbose output with detailed logs",
        "env": "JIRA_VERBOSE"
      },
      "--quiet": {
        "short": "-q",
        "type": "boolean",
        "default": false,
        "description": "Minimal output, errors only",
        "conflicts": ["--verbose"]
      },
      "--json": {
        "short": "-j",
        "type": "boolean",
        "default": false,
        "description": "Output in JSON format for parsing"
      },
      "--yaml": {
        "type": "boolean",
        "default": false,
        "description": "Output in YAML format"
      },
      "--no-color": {
        "type": "boolean",
        "default": false,
        "description": "Disable colored output",
        "env": "NO_COLOR"
      },
      "--log-file": {
        "short": "-l",
        "type": "string",
        "description": "Write logs to specified file",
        "example": "--log-file ./jira-session.log"
      }
    },

    "execution": {
      "--dry-run": {
        "short": "-n",
        "type": "boolean",
        "default": false,
        "description": "Show what would happen without executing",
        "safe": true
      },
      "--interactive": {
        "short": "-i",
        "type": "boolean",
        "default": false,
        "description": "Prompt before each major action"
      },
      "--yes": {
        "short": "-y",
        "type": "boolean",
        "default": false,
        "description": "Auto-confirm all prompts",
        "conflicts": ["--interactive"]
      },
      "--timeout": {
        "short": "-t",
        "type": "integer",
        "default": 300,
        "min": 30,
        "max": 3600,
        "description": "Command timeout in seconds",
        "env": "JIRA_TIMEOUT"
      },
      "--retry": {
        "type": "integer",
        "default": 3,
        "min": 0,
        "max": 10,
        "description": "Number of retries on failure"
      },
      "--fail-fast": {
        "type": "boolean",
        "default": false,
        "description": "Stop on first error, don't continue"
      }
    },

    "configuration": {
      "--config": {
        "short": "-c",
        "type": "string",
        "description": "Path to custom config file",
        "example": "--config ~/.jira-orchestrator.yml"
      },
      "--profile": {
        "short": "-p",
        "type": "string",
        "default": "default",
        "description": "Use named configuration profile",
        "example": "--profile enterprise"
      },
      "--preset": {
        "type": "string",
        "description": "Use predefined flag preset",
        "example": "--preset speed-run"
      },
      "--env": {
        "short": "-e",
        "type": "string",
        "enum": ["dev", "staging", "prod"],
        "default": "dev",
        "description": "Target environment"
      }
    },

    "debugging": {
      "--debug": {
        "short": "-d",
        "type": "boolean",
        "default": false,
        "description": "Enable debug mode with stack traces"
      },
      "--trace": {
        "type": "boolean",
        "default": false,
        "description": "Enable full execution tracing"
      },
      "--profile-perf": {
        "type": "boolean",
        "default": false,
        "description": "Profile performance and show timing"
      }
    }
  },

  "orchestrationFlags": {
    "agents": {
      "--agents": {
        "short": "-a",
        "type": "integer",
        "default": 5,
        "min": 1,
        "max": 13,
        "description": "Number of sub-agents to spawn"
      },
      "--model": {
        "short": "-m",
        "type": "string",
        "enum": ["opus", "sonnet", "haiku", "auto"],
        "default": "auto",
        "description": "Default model for agents",
        "env": "JIRA_DEFAULT_MODEL"
      },
      "--model-strategy": {
        "type": "string",
        "enum": ["cost-optimized", "speed-optimized", "quality-optimized", "balanced"],
        "default": "balanced",
        "description": "Multi-model routing strategy"
      },
      "--parallel": {
        "type": "boolean",
        "default": true,
        "description": "Run agents in parallel where possible"
      },
      "--sequential": {
        "type": "boolean",
        "default": false,
        "description": "Run agents sequentially",
        "conflicts": ["--parallel"]
      },
      "--max-concurrent": {
        "type": "integer",
        "default": 5,
        "min": 1,
        "max": 10,
        "description": "Maximum concurrent agent executions"
      }
    },

    "phases": {
      "--phases": {
        "type": "array",
        "items": ["explore", "plan", "code", "test", "fix", "document"],
        "default": ["explore", "plan", "code", "test", "fix", "document"],
        "description": "Phases to execute"
      },
      "--skip-phases": {
        "type": "array",
        "items": ["explore", "plan", "code", "test", "fix", "document"],
        "default": [],
        "description": "Phases to skip"
      },
      "--start-phase": {
        "type": "string",
        "enum": ["explore", "plan", "code", "test", "fix", "document"],
        "description": "Start from specific phase"
      },
      "--end-phase": {
        "type": "string",
        "enum": ["explore", "plan", "code", "test", "fix", "document"],
        "description": "Stop after specific phase"
      }
    },

    "checkpointing": {
      "--checkpoint": {
        "type": "boolean",
        "default": true,
        "description": "Save progress checkpoints"
      },
      "--checkpoint-interval": {
        "type": "integer",
        "default": 300,
        "description": "Checkpoint interval in seconds"
      },
      "--resume": {
        "short": "-r",
        "type": "boolean",
        "default": false,
        "description": "Resume from last checkpoint"
      },
      "--resume-from": {
        "type": "string",
        "description": "Resume from specific checkpoint ID"
      },
      "--checkpoint-dir": {
        "type": "string",
        "default": ".jira-checkpoints",
        "description": "Directory for checkpoint files"
      }
    },

    "coordination": {
      "--blackboard": {
        "type": "boolean",
        "default": true,
        "description": "Use blackboard pattern for agent coordination"
      },
      "--hierarchy": {
        "type": "string",
        "enum": ["flat", "tree", "mesh", "star"],
        "default": "tree",
        "description": "Agent hierarchy pattern"
      },
      "--domain-routing": {
        "type": "boolean",
        "default": true,
        "description": "Route to agents by domain expertise"
      }
    }
  },

  "jiraFlags": {
    "issue": {
      "--project": {
        "short": "-P",
        "type": "string",
        "description": "Override default Jira project",
        "env": "JIRA_PROJECT"
      },
      "--assignee": {
        "type": "string",
        "description": "Assign to specific user"
      },
      "--reporter": {
        "type": "string",
        "description": "Set reporter"
      },
      "--labels": {
        "type": "array",
        "description": "Add labels to issue",
        "example": "--labels bug,critical,frontend"
      },
      "--components": {
        "type": "array",
        "description": "Add components",
        "example": "--components api,database"
      },
      "--priority": {
        "type": "string",
        "enum": ["lowest", "low", "medium", "high", "highest", "blocker"],
        "description": "Set issue priority"
      },
      "--story-points": {
        "type": "integer",
        "min": 1,
        "max": 100,
        "description": "Set story points"
      }
    },

    "sprint": {
      "--sprint": {
        "short": "-s",
        "type": "string",
        "description": "Target sprint name or ID"
      },
      "--sprint-active": {
        "type": "boolean",
        "default": false,
        "description": "Add to currently active sprint"
      },
      "--sprint-next": {
        "type": "boolean",
        "default": false,
        "description": "Add to next planned sprint"
      },
      "--backlog": {
        "type": "boolean",
        "default": false,
        "description": "Move to backlog"
      }
    },

    "linking": {
      "--epic": {
        "type": "string",
        "description": "Link to epic by key"
      },
      "--parent": {
        "type": "string",
        "description": "Set parent issue"
      },
      "--blocks": {
        "type": "array",
        "description": "Issues this blocks"
      },
      "--blocked-by": {
        "type": "array",
        "description": "Issues blocking this"
      },
      "--relates-to": {
        "type": "array",
        "description": "Related issues"
      },
      "--duplicates": {
        "type": "string",
        "description": "Mark as duplicate of"
      }
    },

    "transitions": {
      "--transition": {
        "type": "string",
        "description": "Transition issue to status"
      },
      "--auto-transition": {
        "type": "boolean",
        "default": true,
        "description": "Automatically transition based on actions"
      },
      "--transition-comment": {
        "type": "string",
        "description": "Comment to add on transition"
      }
    }
  },

  "reviewFlags": {
    "depth": {
      "--depth": {
        "type": "string",
        "enum": ["quick", "standard", "deep", "exhaustive"],
        "default": "standard",
        "description": "Review depth level"
      },
      "--quick": {
        "type": "boolean",
        "default": false,
        "description": "Quick review (5 min)",
        "sets": {"--depth": "quick"}
      },
      "--deep": {
        "type": "boolean",
        "default": false,
        "description": "Deep analysis (30+ min)",
        "sets": {"--depth": "deep"}
      },
      "--exhaustive": {
        "type": "boolean",
        "default": false,
        "description": "Exhaustive review (1+ hour)",
        "sets": {"--depth": "exhaustive"}
      }
    },

    "focus": {
      "--focus": {
        "type": "array",
        "items": ["security", "performance", "architecture", "testing", "documentation", "accessibility", "maintainability"],
        "default": ["security", "performance", "architecture"],
        "description": "Review focus areas"
      },
      "--security-only": {
        "type": "boolean",
        "default": false,
        "description": "Focus only on security",
        "sets": {"--focus": ["security"]}
      },
      "--perf-only": {
        "type": "boolean",
        "default": false,
        "description": "Focus only on performance",
        "sets": {"--focus": ["performance"]}
      }
    },

    "council": {
      "--council": {
        "type": "boolean",
        "default": false,
        "description": "Use agent council for review"
      },
      "--council-size": {
        "type": "integer",
        "default": 5,
        "min": 3,
        "max": 11,
        "description": "Number of council agents"
      },
      "--council-protocol": {
        "type": "string",
        "enum": ["adversarial", "socratic", "dialectic", "jury", "delphi", "devils-advocate", "six-thinking-hats", "red-blue-team"],
        "default": "socratic",
        "description": "Council deliberation protocol"
      },
      "--council-timeout": {
        "type": "integer",
        "default": 600,
        "description": "Council deliberation timeout (seconds)"
      },
      "--require-consensus": {
        "type": "boolean",
        "default": false,
        "description": "Require unanimous council decision"
      },
      "--majority-threshold": {
        "type": "number",
        "default": 0.6,
        "min": 0.5,
        "max": 1.0,
        "description": "Majority threshold for decisions"
      }
    },

    "quality": {
      "--min-coverage": {
        "type": "integer",
        "default": 80,
        "min": 0,
        "max": 100,
        "description": "Minimum test coverage percentage"
      },
      "--max-complexity": {
        "type": "integer",
        "default": 10,
        "min": 1,
        "max": 50,
        "description": "Maximum cyclomatic complexity"
      },
      "--lint-strict": {
        "type": "boolean",
        "default": false,
        "description": "Strict linting rules"
      },
      "--type-strict": {
        "type": "boolean",
        "default": true,
        "description": "Strict type checking"
      }
    },

    "autofix": {
      "--auto-fix": {
        "type": "boolean",
        "default": false,
        "description": "Automatically fix detected issues"
      },
      "--fix-style": {
        "type": "boolean",
        "default": true,
        "description": "Auto-fix style issues"
      },
      "--fix-imports": {
        "type": "boolean",
        "default": true,
        "description": "Auto-fix import ordering"
      },
      "--fix-types": {
        "type": "boolean",
        "default": false,
        "description": "Auto-fix type issues (experimental)"
      },
      "--fix-security": {
        "type": "boolean",
        "default": false,
        "description": "Auto-fix security issues (review required)"
      }
    }
  },

  "gitFlags": {
    "branching": {
      "--branch-prefix": {
        "type": "string",
        "default": "feature",
        "enum": ["feature", "bugfix", "hotfix", "release", "chore", "refactor"],
        "description": "Branch name prefix"
      },
      "--branch-pattern": {
        "type": "string",
        "default": "{prefix}/{issue-key}-{slug}",
        "description": "Branch naming pattern"
      },
      "--from-branch": {
        "type": "string",
        "default": "main",
        "description": "Branch to create from"
      },
      "--no-branch": {
        "type": "boolean",
        "default": false,
        "description": "Don't create new branch"
      }
    },

    "commits": {
      "--commit-style": {
        "type": "string",
        "enum": ["conventional", "gitmoji", "simple", "detailed"],
        "default": "conventional",
        "description": "Commit message style"
      },
      "--sign-commits": {
        "type": "boolean",
        "default": false,
        "description": "GPG sign commits"
      },
      "--co-authors": {
        "type": "array",
        "description": "Add co-authors to commits"
      },
      "--no-verify": {
        "type": "boolean",
        "default": false,
        "description": "Skip pre-commit hooks (not recommended)"
      }
    },

    "pr": {
      "--draft": {
        "type": "boolean",
        "default": false,
        "description": "Create as draft PR"
      },
      "--reviewers": {
        "type": "array",
        "description": "Request specific reviewers"
      },
      "--team-reviewers": {
        "type": "array",
        "description": "Request team reviews"
      },
      "--labels": {
        "type": "array",
        "description": "PR labels"
      },
      "--milestone": {
        "type": "string",
        "description": "Link to milestone"
      },
      "--auto-merge": {
        "type": "boolean",
        "default": false,
        "description": "Enable auto-merge when checks pass"
      },
      "--merge-method": {
        "type": "string",
        "enum": ["merge", "squash", "rebase"],
        "default": "squash",
        "description": "Merge method preference"
      },
      "--pr-template": {
        "type": "string",
        "description": "PR template to use"
      }
    }
  },

  "notificationFlags": {
    "channels": {
      "--notify": {
        "type": "array",
        "items": ["slack", "teams", "discord", "email", "webhook"],
        "description": "Notification channels"
      },
      "--slack-channel": {
        "type": "string",
        "description": "Slack channel for notifications",
        "env": "JIRA_SLACK_CHANNEL"
      },
      "--teams-channel": {
        "type": "string",
        "description": "Teams channel for notifications"
      },
      "--email-to": {
        "type": "array",
        "description": "Email recipients"
      },
      "--webhook-url": {
        "type": "string",
        "description": "Webhook URL for notifications"
      }
    },

    "triggers": {
      "--notify-on-start": {
        "type": "boolean",
        "default": false,
        "description": "Notify when work starts"
      },
      "--notify-on-complete": {
        "type": "boolean",
        "default": true,
        "description": "Notify on completion"
      },
      "--notify-on-error": {
        "type": "boolean",
        "default": true,
        "description": "Notify on errors"
      },
      "--notify-on-pr": {
        "type": "boolean",
        "default": true,
        "description": "Notify when PR created"
      },
      "--notify-on-merge": {
        "type": "boolean",
        "default": true,
        "description": "Notify when PR merged"
      }
    },

    "content": {
      "--notify-verbose": {
        "type": "boolean",
        "default": false,
        "description": "Include detailed info in notifications"
      },
      "--notify-mentions": {
        "type": "array",
        "description": "Users to mention in notifications"
      },
      "--notify-template": {
        "type": "string",
        "description": "Custom notification template"
      }
    }
  },

  "reportFlags": {
    "generation": {
      "--report": {
        "type": "boolean",
        "default": false,
        "description": "Generate completion report"
      },
      "--report-format": {
        "type": "string",
        "enum": ["markdown", "html", "pdf", "json"],
        "default": "markdown",
        "description": "Report output format"
      },
      "--report-output": {
        "type": "string",
        "description": "Report output path"
      },
      "--report-template": {
        "type": "string",
        "description": "Custom report template"
      }
    },

    "content": {
      "--include-metrics": {
        "type": "boolean",
        "default": true,
        "description": "Include metrics in report"
      },
      "--include-timeline": {
        "type": "boolean",
        "default": true,
        "description": "Include execution timeline"
      },
      "--include-diffs": {
        "type": "boolean",
        "default": false,
        "description": "Include code diffs"
      },
      "--include-screenshots": {
        "type": "boolean",
        "default": false,
        "description": "Include screenshots (if available)"
      }
    },

    "destination": {
      "--report-to-confluence": {
        "type": "boolean",
        "default": false,
        "description": "Publish report to Confluence"
      },
      "--confluence-space": {
        "type": "string",
        "description": "Confluence space key"
      },
      "--report-to-obsidian": {
        "type": "boolean",
        "default": false,
        "description": "Save report to Obsidian vault"
      }
    }
  },

  "harnessFlags": {
    "pipeline": {
      "--harness-org": {
        "type": "string",
        "description": "Harness organization ID",
        "env": "HARNESS_ORG_ID"
      },
      "--harness-project": {
        "type": "string",
        "description": "Harness project ID",
        "env": "HARNESS_PROJECT_ID"
      },
      "--pipeline": {
        "type": "string",
        "description": "Pipeline ID to trigger"
      },
      "--pipeline-branch": {
        "type": "string",
        "description": "Branch for pipeline execution"
      },
      "--pipeline-inputs": {
        "type": "object",
        "description": "Pipeline input variables (JSON)"
      }
    },

    "deployment": {
      "--deploy-env": {
        "type": "string",
        "enum": ["dev", "qa", "staging", "prod"],
        "description": "Deployment environment"
      },
      "--deploy-strategy": {
        "type": "string",
        "enum": ["rolling", "blue-green", "canary", "recreate"],
        "default": "rolling",
        "description": "Deployment strategy"
      },
      "--wait-for-deploy": {
        "type": "boolean",
        "default": true,
        "description": "Wait for deployment to complete"
      },
      "--rollback-on-fail": {
        "type": "boolean",
        "default": true,
        "description": "Auto rollback on deployment failure"
      }
    }
  },

  "experimentalFlags": {
    "--experimental": {
      "type": "boolean",
      "default": false,
      "description": "Enable experimental features"
    },
    "--ai-suggestions": {
      "type": "boolean",
      "default": false,
      "description": "Enable AI-powered suggestions (experimental)"
    },
    "--predictive-analysis": {
      "type": "boolean",
      "default": false,
      "description": "Enable predictive failure analysis"
    },
    "--auto-decompose": {
      "type": "boolean",
      "default": false,
      "description": "Automatically decompose large tasks"
    }
  }
}
