{
  "version": "6.0.0",
  "description": "Jira Orchestrator - Consolidated commands with hook-based automation",
  "prefix": "/jira:",
  "total_commands": 12,
  "philosophy": {
    "principle": "Fewer commands, more automation",
    "hook_driven": "Git operations auto-trigger via hooks",
    "config_driven": "Enterprise features configured, not commanded",
    "interactive": "Commands prompt when needed, not forced"
  },
  "commands": {
    "work": {
      "desc": "Start orchestrated work on issue (THE main command)",
      "args": "ISSUE-KEY [--triage] [--prepare] [--depth]",
      "includes": ["triage", "prepare", "branch creation"],
      "triggers_hooks": ["pre-work", "post-work"],
      "phases": "EXPLORE → PLAN → CODE → TEST → FIX → DOCUMENT"
    },
    "ship": {
      "desc": "One command: prepare → code → PR → review → merge",
      "args": "ISSUE-KEY [--council] [--auto-merge] [--skip-review]",
      "includes": ["work", "pr", "review", "iterate"],
      "triggers_hooks": ["pre-ship", "post-ship", "on-merge"]
    },
    "status": {
      "desc": "Check orchestration progress, show dashboard",
      "args": "[ISSUE-KEY] [--format=dashboard|json|table]",
      "includes": ["metrics", "quality indicators"]
    },
    "pr": {
      "desc": "Create/manage PRs with automatic review",
      "args": "ISSUE-KEY [--draft] [--review] [--council] [--harness]",
      "includes": ["review", "council", "harness-review"],
      "triggers_hooks": ["pre-pr", "post-pr", "on-review"]
    },
    "iterate": {
      "desc": "Fix review feedback, update PR, re-review",
      "args": "ISSUE-KEY [--auto]",
      "triggers_hooks": ["pre-iterate", "post-iterate"]
    },
    "cancel": {
      "desc": "Cancel with checkpoint for resume",
      "args": "ISSUE-KEY [--reason] [--checkpoint] [--force]"
    },
    "sprint": {
      "desc": "Sprint planning, metrics, and quality",
      "args": "ACTION [--sprint-id] [--team]",
      "subcommands": {
        "plan": "Capacity and velocity planning",
        "metrics": "Real-time dashboard",
        "quality": "Tech debt and health",
        "team": "Team capacity and workload"
      }
    },
    "enterprise": {
      "desc": "Enterprise features (notifications, approvals, compliance)",
      "args": "ACTION [options]",
      "subcommands": {
        "notify": "Configure Slack/Teams/Email alerts",
        "approve": "Multi-level approval workflows",
        "portfolio": "Multi-project dashboard",
        "release": "Release planning and notes",
        "batch": "Bulk operations (update/transition/assign)",
        "export": "PDF/Excel/CSV export",
        "sla": "SLA monitoring and alerts",
        "compliance": "SOC2/GDPR/ISO27001 reports"
      },
      "config_driven": true
    },
    "infra": {
      "desc": "Infrastructure and repository management",
      "args": "ACTION [options]",
      "subcommands": {
        "create-repo": "Create modular Harness repo",
        "deploy": "Track deployment status"
      },
      "interactive": true
    },
    "setup": {
      "desc": "Installation, configuration, and hooks",
      "args": "[--hooks] [--verify] [--reset]",
      "includes": ["install-hooks", "verify"]
    },
    "sync": {
      "desc": "Manual sync (usually auto via hooks)",
      "args": "[ISSUE-KEY] [--force]",
      "note": "Runs automatically via hooks, manual override"
    },
    "help": {
      "desc": "Show available commands and documentation",
      "args": "[COMMAND]"
    }
  },
  "hooks": {
    "description": "Auto-triggered operations (no explicit commands needed)",
    "git_hooks": {
      "pre-commit": {
        "actions": ["validate-commit-message", "link-jira-issue", "run-lint"],
        "replaces": ["commit", "commit-template"]
      },
      "post-commit": {
        "actions": ["sync-to-jira", "track-worklog"],
        "replaces": ["sync", "process-worklogs"]
      },
      "pre-push": {
        "actions": ["validate-branch", "check-pr-ready"]
      },
      "post-merge": {
        "actions": ["update-jira-status", "generate-docs", "notify-team"],
        "replaces": ["docs", "notify"]
      }
    },
    "orchestration_hooks": {
      "on-work-start": {
        "actions": ["create-branch", "triage-if-needed", "prepare-subtasks"],
        "replaces": ["branch", "triage", "prepare"]
      },
      "on-phase-complete": {
        "actions": ["checkpoint", "sync-jira", "notify-if-blocked"]
      },
      "on-pr-create": {
        "actions": ["auto-review", "link-confluence"],
        "replaces": ["review", "confluence"]
      },
      "on-pr-merge": {
        "actions": ["transition-jira", "generate-release-notes", "deploy-if-configured"],
        "replaces": ["release", "deploy"]
      }
    },
    "scheduled_hooks": {
      "daily": ["process-worklogs", "check-sla", "update-metrics"],
      "weekly": ["generate-reports", "quality-scan"]
    }
  },
  "deprecated": {
    "note": "These commands are now auto-triggered via hooks or merged into parent commands",
    "commands": [
      {"old": "branch", "new": "Auto via /jira:work hook"},
      {"old": "commit", "new": "Auto via git pre-commit hook"},
      {"old": "triage", "new": "/jira:work --triage"},
      {"old": "prepare", "new": "/jira:work --prepare"},
      {"old": "review", "new": "/jira:pr --review"},
      {"old": "council", "new": "/jira:pr --council or /jira:ship --council"},
      {"old": "docs", "new": "Auto via post-merge hook"},
      {"old": "confluence", "new": "Auto via hooks, config in .jira/config.yml"},
      {"old": "metrics", "new": "/jira:sprint metrics"},
      {"old": "quality", "new": "/jira:sprint quality"},
      {"old": "notify", "new": "/jira:enterprise notify"},
      {"old": "approve", "new": "/jira:enterprise approve"},
      {"old": "sla", "new": "/jira:enterprise sla"},
      {"old": "compliance", "new": "/jira:enterprise compliance"},
      {"old": "install-hooks", "new": "/jira:setup --hooks"},
      {"old": "harness-review", "new": "/jira:pr --harness"},
      {"old": "create-repo", "new": "/jira:infra create-repo"},
      {"old": "deploy", "new": "/jira:infra deploy"}
    ]
  },
  "migration": {
    "from": "5.1.0",
    "to": "6.0.0",
    "breaking_changes": false,
    "aliases_maintained": true,
    "note": "Old commands still work via aliases, will show deprecation notice"
  }
}
