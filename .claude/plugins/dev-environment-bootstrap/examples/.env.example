# =============================================================================
# ENVIRONMENT CONFIGURATION
# =============================================================================
# Generated by Bootstrap Plugin
# Tech Stack: Next.js 14 + FastAPI + PostgreSQL + Redis
# Generated: 2025-12-31T10:30:00Z
#
# INSTRUCTIONS:
# 1. Copy this file to .env: cp .env.example .env
# 2. Fill in the required values (marked with <REQUIRED>)
# 3. Optional values have sensible defaults
# 4. NEVER commit .env to version control!
# =============================================================================

# =============================================================================
# Application
# =============================================================================

# Application environment (development, staging, production)
NODE_ENV=development

# Project name (used for Docker containers and service names)
PROJECT_NAME=myapp

# Application name (displayed in UI)
APP_NAME=MyApp

# Application version
APP_VERSION=1.0.0

# =============================================================================
# Server Configuration
# =============================================================================

# Frontend port (Next.js)
FRONTEND_PORT=3000

# Backend API port (FastAPI)
BACKEND_PORT=8000

# Host binding (use 0.0.0.0 for Docker, localhost for local dev)
HOST=0.0.0.0

# =============================================================================
# Database - PostgreSQL
# =============================================================================

# Database connection URL
# Format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/myapp

# Individual database credentials (used by docker-compose)
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres  # <REQUIRED> Change in production!
POSTGRES_DB=myapp

# Connection pool settings
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30

# Database migrations
AUTO_MIGRATE=true  # Auto-run migrations on startup (dev only)

# =============================================================================
# Cache - Redis
# =============================================================================

# Redis connection URL
# Format: redis://host:port/db
REDIS_URL=redis://localhost:6379/0

# Individual Redis settings
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=  # Leave empty for no password (dev)
REDIS_MAX_MEMORY=256mb

# Cache TTL (in seconds)
CACHE_TTL=3600

# =============================================================================
# Authentication & Security
# =============================================================================

# Secret key for JWT signing
# Generate with: openssl rand -hex 32
SECRET_KEY=dev-secret-key-change-in-production  # <REQUIRED> Change in production!

# JWT settings
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# Password hashing
BCRYPT_ROUNDS=12

# CORS settings (comma-separated origins)
CORS_ORIGINS=http://localhost:3000,http://localhost:8000

# Cookie settings
COOKIE_SECURE=false  # Set to true in production with HTTPS
COOKIE_SAMESITE=lax
COOKIE_HTTPONLY=true

# =============================================================================
# External APIs & Services
# =============================================================================

# OpenAI API (if using AI features)
OPENAI_API_KEY=  # <OPTIONAL> sk-...

# Stripe (if using payments)
STRIPE_SECRET_KEY=  # <OPTIONAL> sk_test_...
STRIPE_PUBLISHABLE_KEY=  # <OPTIONAL> pk_test_...
STRIPE_WEBHOOK_SECRET=  # <OPTIONAL> whsec_...

# SendGrid (if using email)
SENDGRID_API_KEY=  # <OPTIONAL> SG....
SENDGRID_FROM_EMAIL=noreply@example.com

# AWS S3 (if using file storage)
AWS_ACCESS_KEY_ID=  # <OPTIONAL>
AWS_SECRET_ACCESS_KEY=  # <OPTIONAL>
AWS_REGION=us-east-1
AWS_S3_BUCKET=  # <OPTIONAL>

# Google OAuth (if using Google login)
GOOGLE_CLIENT_ID=  # <OPTIONAL>
GOOGLE_CLIENT_SECRET=  # <OPTIONAL>
GOOGLE_REDIRECT_URI=http://localhost:3000/auth/google/callback

# GitHub OAuth (if using GitHub login)
GITHUB_CLIENT_ID=  # <OPTIONAL>
GITHUB_CLIENT_SECRET=  # <OPTIONAL>
GITHUB_REDIRECT_URI=http://localhost:3000/auth/github/callback

# =============================================================================
# Email Configuration
# =============================================================================

# Email service (smtp, sendgrid, mailgun)
EMAIL_SERVICE=smtp

# SMTP settings (for local dev, use Mailhog)
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_USER=
SMTP_PASSWORD=
SMTP_TLS=false
SMTP_SSL=false

# Email addresses
EMAIL_FROM=noreply@example.com
EMAIL_FROM_NAME=MyApp
SUPPORT_EMAIL=support@example.com

# =============================================================================
# Logging & Monitoring
# =============================================================================

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Enable request logging
LOG_REQUESTS=true

# Sentry (error tracking)
SENTRY_DSN=  # <OPTIONAL> https://...@sentry.io/...
SENTRY_ENVIRONMENT=development

# Analytics
ANALYTICS_ENABLED=false
GOOGLE_ANALYTICS_ID=  # <OPTIONAL> G-...

# =============================================================================
# Feature Flags
# =============================================================================

# Enable/disable features
FEATURE_REGISTRATION=true
FEATURE_SOCIAL_LOGIN=false
FEATURE_EMAIL_VERIFICATION=true
FEATURE_TWO_FACTOR_AUTH=false
FEATURE_ADMIN_PANEL=true
FEATURE_API_DOCS=true  # Show API documentation

# =============================================================================
# Rate Limiting
# =============================================================================

# Enable rate limiting
RATE_LIMIT_ENABLED=true

# Requests per minute per IP
RATE_LIMIT_PER_MINUTE=60

# Requests per hour per user
RATE_LIMIT_PER_HOUR=1000

# =============================================================================
# File Upload
# =============================================================================

# Maximum file size (in bytes)
MAX_FILE_SIZE=10485760  # 10MB

# Allowed file types (comma-separated)
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,application/pdf

# Upload directory
UPLOAD_DIR=./uploads

# =============================================================================
# Development Tools
# =============================================================================

# pgAdmin (PostgreSQL management UI)
PGADMIN_PORT=5050
PGADMIN_EMAIL=admin@example.com
PGADMIN_PASSWORD=admin

# Redis Commander (Redis management UI)
REDIS_COMMANDER_PORT=8081

# Mailhog (email testing)
MAILHOG_SMTP_PORT=1025
MAILHOG_UI_PORT=8025

# Hot reload (for development)
WATCHPACK_POLLING=false  # Set to true if hot reload doesn't work

# =============================================================================
# Testing
# =============================================================================

# Test database (separate from development database)
TEST_DATABASE_URL=postgresql://postgres:postgres@localhost:5432/myapp_test

# Test Redis
TEST_REDIS_URL=redis://localhost:6379/1

# Disable external services in tests
TEST_DISABLE_EMAILS=true
TEST_DISABLE_ANALYTICS=true

# =============================================================================
# Production Overrides
# =============================================================================
# When deploying to production, override these values:
#
# NODE_ENV=production
# SECRET_KEY=<generate-strong-random-key>
# DATABASE_URL=<production-database-url>
# POSTGRES_PASSWORD=<strong-password>
# REDIS_URL=<production-redis-url>
# CORS_ORIGINS=https://yourdomain.com
# COOKIE_SECURE=true
# RATE_LIMIT_ENABLED=true
# SENTRY_DSN=<your-sentry-dsn>
# LOG_LEVEL=WARNING
#
# =============================================================================
# Security Checklist
# =============================================================================
# Before deploying to production:
#
# [ ] Change SECRET_KEY to a strong random value
# [ ] Change all default passwords (POSTGRES_PASSWORD, etc.)
# [ ] Set COOKIE_SECURE=true
# [ ] Configure CORS_ORIGINS to your domain only
# [ ] Enable HTTPS/TLS
# [ ] Set up Sentry or error tracking
# [ ] Configure backups for PostgreSQL
# [ ] Set up monitoring and alerts
# [ ] Review and restrict ALLOWED_FILE_TYPES
# [ ] Enable rate limiting
# [ ] Review all API keys and rotate if needed
#
# =============================================================================
# Environment Variable Validation
# =============================================================================
# The application validates required environment variables on startup.
# If any required variables are missing, the app will fail to start
# with a helpful error message.
#
# Required variables are marked with <REQUIRED> above.
# =============================================================================
