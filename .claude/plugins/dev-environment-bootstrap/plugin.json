{
  "$schema": "../../core/schemas/plugin.schema.json",
  "name": "dev-environment-bootstrap",
  "displayName": "Dev Environment Bootstrap",
  "callsign": "Bootstrap",
  "faction": "Pathfinder",
  "version": "1.0.0",
  "description": "Bootstrap - Developer onboarding accelerator. Analyzes project requirements, detects missing dependencies, generates Docker/docker-compose configs, creates .env templates, sets up pre-commit hooks, configures IDE settings (VSCode/Cursor), and troubleshoots 'it works on my machine' issues. Gets developers productive in minutes, not hours.",
  "author": {
    "name": "The Lobbi",
    "email": "developers@thelobbi.io"
  },
  "license": "MIT",
  "repository": "https://github.com/Lobbi-Docs/claude",
  "categories": ["devops", "development", "tooling", "automation"],
  "keywords": [
    "setup", "environment", "dependencies", "docker", "docker-compose",
    "dotenv", "env-vars", "pre-commit", "hooks", "ide", "vscode", "cursor",
    "onboarding", "bootstrap", "init", "install", "configure",
    "troubleshoot", "debug-setup", "requirements", "package-json",
    "requirements-txt", "gemfile", "go-mod", "cargo-toml",
    "node", "python", "ruby", "go", "rust", "java", "gradle", "maven",
    "works-on-my-machine", "dev-container", "codespaces"
  ],

  "provides": {
    "commands": 12,
    "agents": 10,
    "skills": 7,
    "hooks": 4
  },

  "integrations": {
    "docker": {
      "description": "Generates and manages Docker/docker-compose configurations",
      "commands": ["bootstrap:dockerize", "bootstrap:setup"],
      "bidirectional": false
    },
    "git-workflow-orchestrator": {
      "description": "Sets up pre-commit hooks and git configuration",
      "commands": ["bootstrap:hooks", "bootstrap:setup"],
      "bidirectional": true
    },
    "code-quality-orchestrator": {
      "description": "Integrates linters, formatters, and quality checks",
      "commands": ["bootstrap:setup", "bootstrap:hooks"],
      "blocking": false
    }
  },

  "workflows": {
    "quick-setup": {
      "name": "Quick Project Setup",
      "version": "1.0.0",
      "description": "End-to-end setup: analyze → install deps → generate configs → verify",
      "phases": [
        {
          "name": "analyze",
          "agents": ["project-analyzer", "dependency-detector"],
          "output": "project-analysis.json"
        },
        {
          "name": "install",
          "agents": ["dependency-installer", "tool-installer"],
          "output": "installation-report.json"
        },
        {
          "name": "configure",
          "agents": ["docker-generator", "env-template-generator", "ide-configurator"],
          "output": "configuration-files/"
        },
        {
          "name": "verify",
          "agents": ["environment-validator", "build-verifier"],
          "output": "verification-report.json"
        }
      ],
      "estimatedTime": "5-10 minutes",
      "automation": "full"
    },
    "troubleshoot-build": {
      "name": "Troubleshoot Build Issues",
      "version": "1.0.0",
      "description": "Diagnose and fix 'why won't this build?' issues",
      "phases": [
        {
          "name": "diagnose",
          "agents": ["troubleshooter", "environment-validator"],
          "output": "diagnosis.json"
        },
        {
          "name": "compare",
          "agents": ["environment-diff-analyzer"],
          "output": "environment-diff.json"
        },
        {
          "name": "fix",
          "agents": ["dependency-installer", "config-fixer"],
          "output": "fixes-applied.json"
        },
        {
          "name": "verify",
          "agents": ["build-verifier"],
          "output": "build-status.json"
        }
      ],
      "estimatedTime": "3-8 minutes",
      "automation": "semi-automatic"
    },
    "dockerize-project": {
      "name": "Containerize Existing Project",
      "version": "1.0.0",
      "description": "Generate production-ready Docker and docker-compose configs",
      "phases": [
        {
          "name": "analyze",
          "agents": ["project-analyzer", "dependency-detector"],
          "output": "stack-analysis.json"
        },
        {
          "name": "generate",
          "agents": ["docker-generator"],
          "output": "Dockerfile, docker-compose.yml, .dockerignore"
        },
        {
          "name": "optimize",
          "agents": ["docker-optimizer"],
          "output": "optimized-configs/"
        },
        {
          "name": "test",
          "agents": ["build-verifier"],
          "output": "docker-build-report.json"
        }
      ],
      "estimatedTime": "4-7 minutes",
      "automation": "full"
    },
    "ide-setup": {
      "name": "IDE Configuration",
      "version": "1.0.0",
      "description": "Configure VSCode/Cursor with project-specific settings",
      "phases": [
        {
          "name": "detect",
          "agents": ["project-analyzer"],
          "output": "tech-stack.json"
        },
        {
          "name": "configure",
          "agents": ["ide-configurator"],
          "output": ".vscode/, .cursor/, extensions.json"
        },
        {
          "name": "install-extensions",
          "agents": ["tool-installer"],
          "output": "installed-extensions.json"
        }
      ],
      "estimatedTime": "2-4 minutes",
      "automation": "full"
    }
  },

  "commands": {
    "bootstrap:setup": "commands/setup.md",
    "bootstrap:analyze": "commands/analyze.md",
    "bootstrap:install": "commands/install.md",
    "bootstrap:dockerize": "commands/dockerize.md",
    "bootstrap:env": "commands/env.md",
    "bootstrap:hooks": "commands/hooks.md",
    "bootstrap:ide": "commands/ide.md",
    "bootstrap:verify": "commands/verify.md",
    "bootstrap:troubleshoot": "commands/troubleshoot.md",
    "bootstrap:update": "commands/update.md",
    "bootstrap:clean": "commands/clean.md",
    "bootstrap:status": "commands/status.md"
  },

  "agents": {
    "project-analyzer": {
      "path": "agents/project-analyzer.md",
      "model": "sonnet",
      "description": "Analyzes project structure, tech stack, and requirements from package.json, requirements.txt, Gemfile, go.mod, Cargo.toml, etc.",
      "triggers": ["analyze project", "detect stack", "what tech", "project requirements"],
      "expertise": ["multi-language", "dependency-analysis", "tech-stack-detection"]
    },
    "dependency-detector": {
      "path": "agents/dependency-detector.md",
      "model": "sonnet",
      "description": "Detects missing dependencies, version conflicts, and platform-specific requirements",
      "triggers": ["missing dependencies", "version conflict", "dependency check"],
      "expertise": ["npm", "pip", "gem", "cargo", "go-modules", "maven", "gradle"]
    },
    "dependency-installer": {
      "path": "agents/dependency-installer.md",
      "model": "haiku",
      "description": "Installs missing dependencies with proper version resolution and platform detection",
      "triggers": ["install dependencies", "npm install", "pip install", "bundle install"],
      "expertise": ["package-managers", "version-resolution", "platform-detection"]
    },
    "tool-installer": {
      "path": "agents/tool-installer.md",
      "model": "haiku",
      "description": "Installs development tools (Docker, Node, Python, Go, etc.) and IDE extensions",
      "triggers": ["install tools", "install docker", "install node", "setup tools"],
      "expertise": ["homebrew", "apt", "yum", "chocolatey", "winget", "asdf"]
    },
    "docker-generator": {
      "path": "agents/docker-generator.md",
      "model": "opus",
      "description": "Generates optimized Dockerfile, docker-compose.yml, and .dockerignore based on project stack",
      "triggers": ["generate dockerfile", "dockerize", "create docker-compose"],
      "expertise": ["multi-stage-builds", "layer-optimization", "security-best-practices"]
    },
    "docker-optimizer": {
      "path": "agents/docker-optimizer.md",
      "model": "sonnet",
      "description": "Optimizes Docker configs for build speed, image size, and security",
      "triggers": ["optimize docker", "reduce image size", "faster builds"],
      "expertise": ["layer-caching", "alpine-linux", "distroless", "build-cache"]
    },
    "env-template-generator": {
      "path": "agents/env-template-generator.md",
      "model": "haiku",
      "description": "Creates .env.example templates with all required environment variables and documentation",
      "triggers": ["generate env", "create dotenv", "env template"],
      "expertise": ["env-vars", "secrets-management", "documentation"]
    },
    "ide-configurator": {
      "path": "agents/ide-configurator.md",
      "model": "sonnet",
      "description": "Configures VSCode/Cursor settings, extensions, tasks, and launch configs",
      "triggers": ["setup vscode", "configure ide", "setup cursor"],
      "expertise": ["vscode-settings", "extensions", "tasks-json", "launch-json"]
    },
    "environment-validator": {
      "path": "agents/environment-validator.md",
      "model": "sonnet",
      "description": "Validates that all dependencies, tools, and configs are correctly installed and configured",
      "triggers": ["verify setup", "validate environment", "check installation"],
      "expertise": ["health-checks", "version-verification", "integration-testing"]
    },
    "build-verifier": {
      "path": "agents/build-verifier.md",
      "model": "sonnet",
      "description": "Attempts to build/run the project and diagnoses any failures",
      "triggers": ["verify build", "test build", "does it work"],
      "expertise": ["build-systems", "error-diagnosis", "log-analysis"]
    },
    "troubleshooter": {
      "path": "agents/troubleshooter.md",
      "model": "opus",
      "description": "Diagnoses 'works on my machine' issues by comparing environments and identifying discrepancies",
      "triggers": ["why won't this build", "troubleshoot", "debug setup", "it doesn't work"],
      "expertise": ["environment-diff", "platform-issues", "dependency-conflicts", "root-cause-analysis"]
    },
    "config-fixer": {
      "path": "agents/config-fixer.md",
      "model": "haiku",
      "description": "Automatically fixes common configuration issues and mismatches",
      "triggers": ["fix config", "repair setup", "auto-fix"],
      "expertise": ["auto-remediation", "config-validation", "standards-enforcement"]
    }
  },

  "skills": {
    "dependency-management": {
      "path": "skills/dependency-management.md",
      "description": "Multi-language dependency detection, installation, and version resolution",
      "triggers": ["dependencies", "packages", "install", "npm", "pip", "gems"]
    },
    "docker-containerization": {
      "path": "skills/docker-containerization.md",
      "description": "Docker/docker-compose generation, multi-stage builds, optimization",
      "triggers": ["docker", "dockerfile", "docker-compose", "container", "containerize"]
    },
    "environment-configuration": {
      "path": "skills/environment-configuration.md",
      "description": "Environment variable management, .env files, secrets handling",
      "triggers": ["env", "dotenv", "environment", "config", "secrets"]
    },
    "ide-setup": {
      "path": "skills/ide-setup.md",
      "description": "VSCode/Cursor configuration, extensions, tasks, launch configs",
      "triggers": ["vscode", "cursor", "ide", "editor", "settings"]
    },
    "git-hooks": {
      "path": "skills/git-hooks.md",
      "description": "Pre-commit, pre-push hooks, Husky, lint-staged configuration",
      "triggers": ["pre-commit", "hooks", "husky", "lint-staged"]
    },
    "build-verification": {
      "path": "skills/build-verification.md",
      "description": "Build testing, smoke tests, health checks, environment validation",
      "triggers": ["verify", "test build", "validate", "check"]
    },
    "troubleshooting": {
      "path": "skills/troubleshooting.md",
      "description": "Environment debugging, dependency conflicts, platform issues",
      "triggers": ["troubleshoot", "debug", "fix", "doesn't work", "error"]
    }
  },

  "hooks": {
    "postClone": {
      "script": "hooks/scripts/post-clone-setup.sh",
      "description": "Auto-runs bootstrap:setup after git clone"
    },
    "preBuild": {
      "script": "hooks/scripts/pre-build-check.sh",
      "description": "Validates environment before build"
    },
    "dependencyChange": {
      "script": "hooks/scripts/dependency-change-notify.sh",
      "description": "Notifies team when package files change"
    },
    "environmentSync": {
      "script": "hooks/scripts/environment-sync.sh",
      "description": "Syncs .env.example when .env changes (without exposing secrets)"
    }
  },

  "permissions": {
    "filesystem": [
      { "path": "**/*", "access": "read" },
      { "path": "package*.json", "access": "readwrite" },
      { "path": "requirements*.txt", "access": "readwrite" },
      { "path": "Gemfile*", "access": "readwrite" },
      { "path": "go.mod", "access": "readwrite" },
      { "path": "go.sum", "access": "readwrite" },
      { "path": "Cargo.toml", "access": "readwrite" },
      { "path": "Cargo.lock", "access": "readwrite" },
      { "path": "pom.xml", "access": "readwrite" },
      { "path": "build.gradle", "access": "readwrite" },
      { "path": "Dockerfile*", "access": "readwrite" },
      { "path": "docker-compose*.yml", "access": "readwrite" },
      { "path": ".dockerignore", "access": "readwrite" },
      { "path": ".env*", "access": "readwrite" },
      { "path": ".vscode/**", "access": "readwrite" },
      { "path": ".cursor/**", "access": "readwrite" },
      { "path": ".husky/**", "access": "readwrite" },
      { "path": ".git/hooks/**", "access": "readwrite" }
    ],
    "tools": ["Bash", "Read", "Write", "Edit", "Grep", "Glob", "Task"],
    "mcpServers": []
  },

  "configuration": {
    "schema": {
      "type": "object",
      "properties": {
        "autoSetup": {
          "type": "boolean",
          "default": false,
          "description": "Automatically run setup on project clone"
        },
        "dockerEnabled": {
          "type": "boolean",
          "default": true,
          "description": "Generate Docker configurations"
        },
        "ideTarget": {
          "type": "string",
          "enum": ["vscode", "cursor", "both"],
          "default": "both",
          "description": "Which IDE to configure"
        },
        "preCommitHooks": {
          "type": "boolean",
          "default": true,
          "description": "Install pre-commit hooks"
        },
        "includeDevContainer": {
          "type": "boolean",
          "default": false,
          "description": "Generate .devcontainer for GitHub Codespaces"
        },
        "securityScanning": {
          "type": "boolean",
          "default": true,
          "description": "Scan dependencies for vulnerabilities"
        },
        "autoUpdate": {
          "type": "boolean",
          "default": false,
          "description": "Automatically update dependencies to latest compatible versions"
        }
      }
    }
  },

  "activation": {
    "auto": true,
    "priority": 900,
    "conditions": {
      "filePatterns": [
        "package.json",
        "requirements.txt",
        "Gemfile",
        "go.mod",
        "Cargo.toml",
        "pom.xml",
        "build.gradle",
        "Dockerfile",
        "docker-compose.yml"
      ],
      "keywords": [
        "setup", "install", "bootstrap", "environment",
        "dependencies", "docker", "troubleshoot", "won't build"
      ]
    }
  }
}
