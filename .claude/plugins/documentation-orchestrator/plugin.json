{
  "$schema": "../../core/schemas/plugin.schema.json",
  "name": "documentation-orchestrator",
  "displayName": "Documentation Orchestrator",
  "callsign": "Scribe",
  "faction": "Forerunner",
  "version": "1.0.0",
  "description": "Scribe - Keeper of knowledge and wisdom. Orchestrates documentation generation including API docs, README files, architecture diagrams, code documentation, and knowledge base management. Integrates with Confluence for wiki sync and Obsidian for personal knowledge management.",
  "author": {
    "name": "The Lobbi",
    "email": "developers@thelobbi.io"
  },
  "license": "MIT",
  "repository": "https://github.com/Lobbi-Docs/claude",
  "keywords": [
    "documentation", "docs", "readme", "api-docs", "openapi",
    "swagger", "typedoc", "jsdoc", "sphinx", "mkdocs",
    "architecture", "diagrams", "mermaid", "plantuml",
    "confluence", "wiki", "knowledge-base", "obsidian",
    "adr", "decision-records", "runbooks", "onboarding"
  ],

  "documentationTypes": {
    "api": {
      "name": "API Documentation",
      "formats": ["openapi", "swagger", "graphql-schema", "grpc-proto"],
      "generators": ["redoc", "swagger-ui", "graphiql", "grpc-gateway"],
      "output": ["html", "markdown", "pdf"]
    },
    "code": {
      "name": "Code Documentation",
      "formats": ["jsdoc", "typedoc", "sphinx", "godoc", "rustdoc"],
      "coverage": {
        "functions": 80,
        "classes": 90,
        "modules": 100
      }
    },
    "architecture": {
      "name": "Architecture Documentation",
      "formats": ["c4-model", "arc42", "adr"],
      "diagrams": ["mermaid", "plantuml", "draw.io"],
      "views": ["context", "container", "component", "code"]
    },
    "operational": {
      "name": "Operational Documentation",
      "types": ["runbooks", "playbooks", "sops", "incident-response"],
      "templates": true
    },
    "user": {
      "name": "User Documentation",
      "types": ["guides", "tutorials", "faq", "troubleshooting"],
      "formats": ["markdown", "html", "pdf"]
    }
  },

  "commands": {
    "docs:generate": "commands/generate.md",
    "docs:api": "commands/api.md",
    "docs:readme": "commands/readme.md",
    "docs:architecture": "commands/architecture.md",
    "docs:adr": "commands/adr.md",
    "docs:runbook": "commands/runbook.md",
    "docs:diagram": "commands/diagram.md",
    "docs:coverage": "commands/coverage.md",
    "docs:lint": "commands/lint.md",
    "docs:sync": "commands/sync.md",
    "docs:confluence": "commands/confluence.md",
    "docs:obsidian": "commands/obsidian.md",
    "docs:search": "commands/search.md",
    "docs:onboarding": "commands/onboarding.md",
    "docs:spec": "commands/spec.md",
    "docs:status": "commands/status.md"
  },

  "agents": {
    "api-doc-generator-agent": {
      "path": "agents/api-doc-generator-agent.md",
      "model": "sonnet",
      "description": "Generates OpenAPI specs, Swagger docs, and API references",
      "triggers": ["api docs", "openapi", "swagger", "generate api documentation"]
    },
    "readme-writer-agent": {
      "path": "agents/readme-writer-agent.md",
      "model": "sonnet",
      "description": "Creates and maintains README files with badges, examples, and structure",
      "triggers": ["readme", "README.md", "project readme"]
    },
    "architecture-documenter-agent": {
      "path": "agents/architecture-documenter-agent.md",
      "model": "opus",
      "description": "Documents system architecture using C4 model and ADRs",
      "triggers": ["architecture docs", "c4 model", "system design", "adr"]
    },
    "diagram-generator-agent": {
      "path": "agents/diagram-generator-agent.md",
      "model": "sonnet",
      "description": "Creates Mermaid, PlantUML, and ASCII diagrams from code/descriptions",
      "triggers": ["diagram", "mermaid", "plantuml", "flowchart", "sequence diagram"]
    },
    "code-doc-extractor-agent": {
      "path": "agents/code-doc-extractor-agent.md",
      "model": "haiku",
      "description": "Extracts and formats JSDoc, TypeDoc, docstrings into documentation",
      "triggers": ["jsdoc", "typedoc", "docstrings", "code comments"]
    },
    "runbook-writer-agent": {
      "path": "agents/runbook-writer-agent.md",
      "model": "sonnet",
      "description": "Creates operational runbooks and incident response procedures",
      "triggers": ["runbook", "playbook", "sop", "incident response"]
    },
    "confluence-sync-agent": {
      "path": "agents/confluence-sync-agent.md",
      "model": "haiku",
      "description": "Syncs documentation to Confluence wikis",
      "triggers": ["confluence", "wiki sync", "publish to confluence"]
    },
    "obsidian-sync-agent": {
      "path": "agents/obsidian-sync-agent.md",
      "model": "haiku",
      "description": "Syncs documentation to Obsidian vault with linking",
      "triggers": ["obsidian", "vault sync", "knowledge base"]
    },
    "doc-coverage-agent": {
      "path": "agents/doc-coverage-agent.md",
      "model": "haiku",
      "description": "Analyzes documentation coverage and identifies gaps",
      "triggers": ["doc coverage", "missing docs", "documentation gaps"]
    },
    "doc-linter-agent": {
      "path": "agents/doc-linter-agent.md",
      "model": "haiku",
      "description": "Lints documentation for style, broken links, and consistency",
      "triggers": ["lint docs", "check docs", "broken links"]
    },
    "onboarding-guide-agent": {
      "path": "agents/onboarding-guide-agent.md",
      "model": "sonnet",
      "description": "Generates developer onboarding guides and tutorials",
      "triggers": ["onboarding", "getting started", "developer guide", "tutorial"]
    }
  },

  "skills": {
    "api-documentation": {
      "path": "skills/api-documentation.md",
      "description": "OpenAPI, Swagger, GraphQL schema documentation",
      "triggers": ["openapi", "swagger", "api spec", "graphql schema"]
    },
    "code-documentation": {
      "path": "skills/code-documentation.md",
      "description": "JSDoc, TypeDoc, Sphinx, docstring standards",
      "triggers": ["jsdoc", "typedoc", "docstring", "code comments"]
    },
    "architecture-docs": {
      "path": "skills/architecture-docs.md",
      "description": "C4 model, arc42, Architecture Decision Records",
      "triggers": ["c4", "arc42", "adr", "architecture diagram"]
    },
    "diagram-generation": {
      "path": "skills/diagram-generation.md",
      "description": "Mermaid, PlantUML, diagram-as-code",
      "triggers": ["mermaid", "plantuml", "diagram", "flowchart"]
    },
    "wiki-management": {
      "path": "skills/wiki-management.md",
      "description": "Confluence, Notion, wiki page management",
      "triggers": ["confluence", "wiki", "notion", "knowledge base"]
    },
    "markdown-mastery": {
      "path": "skills/markdown-mastery.md",
      "description": "Advanced markdown, GFM, MDX, formatting",
      "triggers": ["markdown", "mdx", "gfm", "formatting"]
    },
    "doc-site-building": {
      "path": "skills/doc-site-building.md",
      "description": "MkDocs, Docusaurus, VitePress, GitBook",
      "triggers": ["mkdocs", "docusaurus", "vitepress", "gitbook", "doc site"]
    }
  },

  "hooks": {
    "postCodeEdit": {
      "script": "hooks/scripts/update-docs-on-change.sh",
      "description": "Flags documentation that may need updating after code changes"
    },
    "preCommit": {
      "script": "hooks/scripts/doc-lint-check.sh",
      "description": "Lints documentation before commit"
    },
    "postPR": {
      "script": "hooks/scripts/doc-coverage-report.sh",
      "description": "Generates documentation coverage report for PRs"
    },
    "onRelease": {
      "script": "hooks/scripts/update-release-docs.sh",
      "description": "Updates documentation for new releases"
    }
  },

  "templates": {
    "readme": "templates/README.template.md",
    "adr": "templates/ADR.template.md",
    "runbook": "templates/RUNBOOK.template.md",
    "api": "templates/API.template.md",
    "onboarding": "templates/ONBOARDING.template.md"
  },

  "permissions": {
    "filesystem": [
      { "path": "**/*.md", "access": "readwrite" },
      { "path": "**/docs/**", "access": "readwrite" },
      { "path": "**/openapi.*", "access": "readwrite" },
      { "path": "**/swagger.*", "access": "readwrite" }
    ],
    "tools": ["Bash", "Read", "Write", "Edit", "Grep", "Glob", "Task", "WebFetch"],
    "mcpServers": ["confluence", "obsidian"]
  },

  "configuration": {
    "schema": {
      "type": "object",
      "properties": {
        "docSiteGenerator": {
          "type": "string",
          "enum": ["mkdocs", "docusaurus", "vitepress", "gitbook", "none"],
          "default": "none"
        },
        "wikiPlatform": {
          "type": "string",
          "enum": ["confluence", "notion", "obsidian", "none"],
          "default": "confluence"
        },
        "diagramFormat": {
          "type": "string",
          "enum": ["mermaid", "plantuml", "both"],
          "default": "mermaid"
        },
        "coverageThreshold": {
          "type": "number",
          "default": 80,
          "minimum": 0,
          "maximum": 100
        },
        "autoGenerateApiDocs": {
          "type": "boolean",
          "default": true
        }
      }
    }
  },

  "activation": {
    "auto": true,
    "priority": 750,
    "conditions": {
      "filePatterns": ["**/*.md", "**/docs/**", "**/openapi.*", "**/swagger.*"],
      "keywords": ["docs", "documentation", "readme", "api docs", "wiki", "diagram"]
    }
  }
}
