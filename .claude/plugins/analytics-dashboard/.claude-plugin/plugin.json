{
  "$schema": "../../core/schemas/plugin.schema.json",
  "name": "analytics-dashboard",
  "displayName": "Analytics Dashboard",
  "callsign": "Oracle",
  "faction": "Forerunner",
  "version": "1.0.0",
  "description": "Oracle - Seer of patterns and foresight. Provides comprehensive analytics including velocity tracking, burndown charts, cost analysis, forecasting, and team performance metrics. Integrates with Jira for sprint analytics and GitHub for development metrics.",
  "author": {
    "name": "The Lobbi",
    "email": "developers@thelobbi.io"
  },
  "license": "MIT",
  "repository": "https://github.com/Lobbi-Docs/claude",
  "categories": ["analytics", "metrics", "reporting", "forecasting"],
  "keywords": [
    "analytics", "metrics", "dashboard", "velocity", "burndown",
    "forecasting", "trends", "kpi", "performance", "productivity",
    "cost-analysis", "time-tracking", "sprint-metrics", "cycle-time",
    "lead-time", "throughput", "dora-metrics", "four-keys"
  ],

  "provides": {
    "commands": 16,
    "agents": 10,
    "skills": 6,
    "hooks": 3
  },

  "integrations": {
    "jira-orchestrator": {
      "description": "Pulls sprint data, velocity, story points for analytics",
      "data": ["sprints", "issues", "worklogs", "estimates"],
      "bidirectional": false
    },
    "git-workflow-orchestrator": {
      "description": "Analyzes commit patterns, PR metrics, code churn",
      "data": ["commits", "prs", "reviews", "contributors"],
      "bidirectional": false
    },
    "testing-orchestrator": {
      "description": "Tracks test metrics, coverage trends, flaky test rates",
      "data": ["coverage", "test-results", "failure-rates"],
      "bidirectional": false
    },
    "release-orchestrator": {
      "description": "Tracks deployment frequency, lead time, MTTR",
      "data": ["deployments", "rollbacks", "release-frequency"],
      "bidirectional": false
    }
  },

  "metricCategories": {
    "velocity": {
      "name": "Velocity Metrics",
      "metrics": [
        { "id": "story-points", "name": "Story Points Completed", "unit": "points" },
        { "id": "velocity-trend", "name": "Velocity Trend", "unit": "points/sprint" },
        { "id": "commitment-accuracy", "name": "Commitment Accuracy", "unit": "%" },
        { "id": "spillover-rate", "name": "Spillover Rate", "unit": "%" }
      ]
    },
    "flow": {
      "name": "Flow Metrics",
      "metrics": [
        { "id": "cycle-time", "name": "Cycle Time", "unit": "days" },
        { "id": "lead-time", "name": "Lead Time", "unit": "days" },
        { "id": "throughput", "name": "Throughput", "unit": "items/week" },
        { "id": "wip", "name": "Work in Progress", "unit": "items" },
        { "id": "flow-efficiency", "name": "Flow Efficiency", "unit": "%" }
      ]
    },
    "dora": {
      "name": "DORA Metrics (Four Keys)",
      "metrics": [
        { "id": "deployment-frequency", "name": "Deployment Frequency", "unit": "deploys/day" },
        { "id": "lead-time-for-changes", "name": "Lead Time for Changes", "unit": "hours" },
        { "id": "change-failure-rate", "name": "Change Failure Rate", "unit": "%" },
        { "id": "mttr", "name": "Mean Time to Recovery", "unit": "hours" }
      ]
    },
    "quality": {
      "name": "Quality Metrics",
      "metrics": [
        { "id": "defect-density", "name": "Defect Density", "unit": "bugs/kloc" },
        { "id": "test-coverage", "name": "Test Coverage", "unit": "%" },
        { "id": "code-review-time", "name": "Code Review Time", "unit": "hours" },
        { "id": "tech-debt-ratio", "name": "Tech Debt Ratio", "unit": "%" }
      ]
    },
    "team": {
      "name": "Team Metrics",
      "metrics": [
        { "id": "contributor-activity", "name": "Contributor Activity", "unit": "commits/week" },
        { "id": "pr-merge-time", "name": "PR Merge Time", "unit": "hours" },
        { "id": "review-load", "name": "Review Load", "unit": "reviews/dev" },
        { "id": "focus-time", "name": "Focus Time", "unit": "hours" }
      ]
    },
    "cost": {
      "name": "Cost Metrics",
      "metrics": [
        { "id": "cost-per-story-point", "name": "Cost per Story Point", "unit": "$" },
        { "id": "cloud-spend", "name": "Cloud Spend", "unit": "$/month" },
        { "id": "ci-cost", "name": "CI/CD Cost", "unit": "$/month" },
        { "id": "api-usage-cost", "name": "API Usage Cost", "unit": "$/month" }
      ]
    }
  },

  "dashboards": {
    "sprint": {
      "name": "Sprint Dashboard",
      "widgets": ["burndown", "velocity-chart", "scope-changes", "sprint-goal-progress"],
      "refreshRate": "1h"
    },
    "team": {
      "name": "Team Performance Dashboard",
      "widgets": ["velocity-trend", "contributor-activity", "review-metrics", "focus-time"],
      "refreshRate": "1d"
    },
    "delivery": {
      "name": "Delivery Dashboard",
      "widgets": ["dora-metrics", "release-frequency", "deployment-status", "incident-rate"],
      "refreshRate": "1h"
    },
    "quality": {
      "name": "Quality Dashboard",
      "widgets": ["test-coverage-trend", "defect-density", "tech-debt", "code-health"],
      "refreshRate": "1d"
    },
    "executive": {
      "name": "Executive Dashboard",
      "widgets": ["velocity-summary", "cost-summary", "risk-indicators", "forecast"],
      "refreshRate": "1d"
    }
  },

  "commands": {
    "analytics:dashboard": "commands/dashboard.md",
    "analytics:velocity": "commands/velocity.md",
    "analytics:burndown": "commands/burndown.md",
    "analytics:cycle-time": "commands/cycle-time.md",
    "analytics:dora": "commands/dora.md",
    "analytics:forecast": "commands/forecast.md",
    "analytics:cost": "commands/cost.md",
    "analytics:team": "commands/team.md",
    "analytics:quality": "commands/quality.md",
    "analytics:trends": "commands/trends.md",
    "analytics:compare": "commands/compare.md",
    "analytics:report": "commands/report.md",
    "analytics:export": "commands/export.md",
    "analytics:alert": "commands/alert.md",
    "analytics:benchmark": "commands/benchmark.md",
    "analytics:status": "commands/status.md"
  },

  "agents": {
    "velocity-tracker-agent": {
      "path": "agents/velocity-tracker-agent.md",
      "model": "haiku",
      "description": "Tracks and analyzes sprint velocity trends",
      "triggers": ["velocity", "sprint velocity", "story points"]
    },
    "burndown-generator-agent": {
      "path": "agents/burndown-generator-agent.md",
      "model": "haiku",
      "description": "Generates burndown/burnup charts with projections",
      "triggers": ["burndown", "burnup", "sprint progress"]
    },
    "forecast-agent": {
      "path": "agents/forecast-agent.md",
      "model": "sonnet",
      "description": "Predicts completion dates using Monte Carlo simulations",
      "triggers": ["forecast", "predict", "when will", "completion date"]
    },
    "dora-metrics-agent": {
      "path": "agents/dora-metrics-agent.md",
      "model": "sonnet",
      "description": "Calculates and tracks DORA/Four Keys metrics",
      "triggers": ["dora", "four keys", "deployment frequency", "lead time"]
    },
    "cost-analyzer-agent": {
      "path": "agents/cost-analyzer-agent.md",
      "model": "sonnet",
      "description": "Analyzes development and infrastructure costs",
      "triggers": ["cost", "spend", "budget", "cost per point"]
    },
    "trend-analyzer-agent": {
      "path": "agents/trend-analyzer-agent.md",
      "model": "sonnet",
      "description": "Identifies trends and anomalies in metrics",
      "triggers": ["trend", "pattern", "anomaly", "regression"]
    },
    "team-insights-agent": {
      "path": "agents/team-insights-agent.md",
      "model": "sonnet",
      "description": "Provides insights on team productivity and bottlenecks",
      "triggers": ["team metrics", "productivity", "bottleneck"]
    },
    "report-generator-agent": {
      "path": "agents/report-generator-agent.md",
      "model": "sonnet",
      "description": "Generates comprehensive analytics reports",
      "triggers": ["report", "summary", "weekly report", "monthly report"]
    },
    "benchmark-agent": {
      "path": "agents/benchmark-agent.md",
      "model": "haiku",
      "description": "Compares metrics against industry benchmarks",
      "triggers": ["benchmark", "compare", "industry standard"]
    },
    "alert-manager-agent": {
      "path": "agents/alert-manager-agent.md",
      "model": "haiku",
      "description": "Monitors metrics and triggers alerts on thresholds",
      "triggers": ["alert", "threshold", "monitor", "warning"]
    }
  },

  "skills": {
    "velocity-analysis": {
      "path": "skills/velocity-analysis.md",
      "description": "Sprint velocity calculation and forecasting",
      "triggers": ["velocity", "story points", "sprint capacity"]
    },
    "flow-metrics": {
      "path": "skills/flow-metrics.md",
      "description": "Cycle time, lead time, throughput analysis",
      "triggers": ["cycle time", "lead time", "throughput", "flow"]
    },
    "dora-metrics": {
      "path": "skills/dora-metrics.md",
      "description": "DORA/Four Keys calculation and tracking",
      "triggers": ["dora", "four keys", "deployment frequency"]
    },
    "forecasting": {
      "path": "skills/forecasting.md",
      "description": "Monte Carlo simulations, predictive analytics",
      "triggers": ["forecast", "predict", "monte carlo", "probability"]
    },
    "cost-analysis": {
      "path": "skills/cost-analysis.md",
      "description": "Development cost tracking and optimization",
      "triggers": ["cost", "budget", "spend", "roi"]
    },
    "visualization": {
      "path": "skills/visualization.md",
      "description": "Chart generation, dashboard creation",
      "triggers": ["chart", "graph", "dashboard", "visualize"]
    }
  },

  "hooks": {
    "onSprintEnd": {
      "script": "hooks/scripts/sprint-report.sh",
      "description": "Generates sprint retrospective analytics"
    },
    "onDeployment": {
      "script": "hooks/scripts/update-dora.sh",
      "description": "Updates DORA metrics on deployment"
    },
    "onThresholdBreach": {
      "script": "hooks/scripts/threshold-alert.sh",
      "description": "Alerts when metrics breach thresholds"
    }
  },

  "dashboardTemplates": {
    "sprint": "dashboards/sprint.json",
    "team": "dashboards/team.json",
    "delivery": "dashboards/delivery.json",
    "quality": "dashboards/quality.json",
    "executive": "dashboards/executive.json"
  },

  "permissions": {
    "filesystem": [
      { "path": ".claude/analytics/**", "access": "readwrite" },
      { "path": "**/metrics/**", "access": "read" }
    ],
    "tools": ["Bash", "Read", "Write", "Task", "Grep", "Glob"],
    "mcpServers": ["jira", "github"]
  },

  "configuration": {
    "schema": {
      "type": "object",
      "properties": {
        "sprintLengthDays": {
          "type": "number",
          "default": 14
        },
        "velocityWindow": {
          "type": "number",
          "default": 6,
          "description": "Number of sprints to average for velocity"
        },
        "doraTargets": {
          "type": "object",
          "properties": {
            "deploymentFrequency": { "type": "string", "default": "daily" },
            "leadTimeForChanges": { "type": "string", "default": "< 1 day" },
            "changeFailureRate": { "type": "string", "default": "< 15%" },
            "mttr": { "type": "string", "default": "< 1 hour" }
          }
        },
        "alertThresholds": {
          "type": "object",
          "properties": {
            "velocityDrop": { "type": "number", "default": 20 },
            "cycleTimeIncrease": { "type": "number", "default": 30 },
            "coverageDrop": { "type": "number", "default": 5 }
          }
        },
        "reportSchedule": {
          "type": "string",
          "enum": ["daily", "weekly", "biweekly", "monthly"],
          "default": "weekly"
        }
      }
    }
  },

  "activation": {
    "auto": true,
    "priority": 650,
    "conditions": {
      "keywords": ["analytics", "metrics", "velocity", "burndown", "dora", "forecast", "dashboard", "report"]
    }
  }
}
