{
  "$schema": "../../core/schemas/plugin.schema.json",
  "name": "agent-review-council",
  "displayName": "Agent Review Council",
  "callsign": "Tribunal",
  "faction": "Forerunner",
  "version": "1.0.0",
  "description": "Tribunal - The Council of Judgment. Revolutionary multi-agent deliberation system where specialized AI agents debate, critique, and vote on code quality like a review panel. Implements adversarial review, devil's advocate patterns, consensus building, and minority opinion preservation. Produces higher quality reviews than any single agent.",
  "author": {
    "name": "The Lobbi",
    "email": "developers@thelobbi.io"
  },
  "license": "MIT",
  "repository": "https://github.com/Lobbi-Docs/claude",
  "categories": ["ai", "review", "multi-agent", "deliberation"],
  "keywords": [
    "multi-agent", "deliberation", "debate", "voting", "consensus",
    "adversarial-review", "devils-advocate", "tribunal", "jury",
    "critique", "cross-examination", "minority-opinion", "dialectic",
    "socratic", "peer-review", "collective-intelligence", "round-robin",
    "autogen", "team-setup", "panel-discussion", "fishbowl", "think-tank",
    "red-team", "blue-team", "rapid-fire", "world-cafe", "collaborative"
  ],

  "provides": {
    "commands": 12,
    "agents": 21,
    "skills": 6,
    "hooks": 4,
    "deliberationProtocols": 20
  },

  "integrations": {
    "jira-orchestrator": {
      "description": "Links council verdicts to Jira issues",
      "capabilities": ["verdict-comments", "quality-ratings"],
      "bidirectional": true
    },
    "code-quality-orchestrator": {
      "description": "Council evaluates quality gate results",
      "capabilities": ["quality-deliberation"],
      "enhances": true
    },
    "git-workflow-orchestrator": {
      "description": "Council reviews PRs before merge",
      "capabilities": ["pr-verdict"],
      "blocking": true
    },
    "cognitive-code-reasoner": {
      "description": "Deep reasoning for complex deliberations",
      "capabilities": ["deep-analysis"],
      "forComplexCases": true
    }
  },

  "councilComposition": {
    "panelSizes": {
      "quick": { "agents": 3, "deliberationRounds": 1, "useCase": "Simple reviews" },
      "standard": { "agents": 5, "deliberationRounds": 2, "useCase": "Normal PRs" },
      "thorough": { "agents": 7, "deliberationRounds": 3, "useCase": "Critical changes" },
      "full": { "agents": 9, "deliberationRounds": 4, "useCase": "Architecture decisions" }
    },
    "roleAssignment": "dynamic-based-on-code",
    "minorityOpinionRequired": true
  },

  "deliberationProtocols": {
    "adversarial": {
      "name": "Adversarial Review",
      "description": "Agents explicitly try to find flaws",
      "roles": ["defender", "attacker", "judge"],
      "rounds": 3,
      "output": "attack-defense-verdict"
    },
    "socratic": {
      "name": "Socratic Dialogue",
      "description": "Agents question each other to reveal truth",
      "technique": "question-answer-synthesis",
      "rounds": 4,
      "output": "reasoned-conclusion"
    },
    "dialectic": {
      "name": "Dialectic Synthesis",
      "description": "Thesis-antithesis-synthesis pattern",
      "phases": ["thesis", "antithesis", "synthesis"],
      "output": "synthesized-verdict"
    },
    "jury": {
      "name": "Jury Deliberation",
      "description": "Traditional jury-style voting with discussion",
      "unanimityRequired": false,
      "majorityThreshold": 0.66,
      "output": "majority-verdict-with-dissent"
    },
    "delphi": {
      "name": "Delphi Method",
      "description": "Anonymous iterative consensus building",
      "rounds": 3,
      "anonymous": true,
      "output": "converged-consensus"
    },
    "devils-advocate": {
      "name": "Devil's Advocate",
      "description": "Dedicated agent argues against approval",
      "advocateRole": "mandatory",
      "mustAddressAllPoints": true,
      "output": "stress-tested-verdict"
    },
    "round-robin": {
      "name": "Round Robin",
      "description": "Sequential turn-taking where each agent builds on previous insights",
      "pattern": "sequential-building",
      "turnOrder": "random-then-fixed",
      "speakingTime": "equal",
      "rounds": 2,
      "buildingRequired": true,
      "output": "layered-analysis"
    },
    "autogen-team": {
      "name": "AutoGen Team",
      "description": "Hierarchical manager-worker setup inspired by Microsoft AutoGen",
      "structure": "hierarchical",
      "roles": ["manager", "workers", "executor", "critic"],
      "managerDelegates": true,
      "workerReports": true,
      "criticValidates": true,
      "maxIterations": 5,
      "output": "team-validated-verdict"
    },
    "panel-discussion": {
      "name": "Panel Discussion",
      "description": "Open collaborative forum where agents freely discuss",
      "style": "collaborative",
      "turnTaking": "voluntary",
      "crossTalk": true,
      "moderatorGuides": true,
      "timeBoxed": true,
      "output": "emergent-consensus"
    },
    "fishbowl": {
      "name": "Fishbowl",
      "description": "Inner circle deliberates while outer circle observes, then rotate",
      "circles": ["inner", "outer"],
      "innerSize": 3,
      "outerSize": "remaining",
      "rotationRounds": 2,
      "observersContribute": "after-rotation",
      "output": "multi-perspective-verdict"
    },
    "think-tank": {
      "name": "Think Tank",
      "description": "Parallel exploration by all agents, then convergence",
      "phases": ["parallel-exploration", "synthesis", "refinement"],
      "parallelization": true,
      "convergenceMethod": "synthesis-agent-led",
      "diversityBonus": true,
      "output": "comprehensive-multi-angle-verdict"
    },
    "red-blue-team": {
      "name": "Red Team / Blue Team",
      "description": "Offensive (red) vs defensive (blue) split with adjudication",
      "teams": {
        "red": {
          "role": "attack",
          "objective": "find-vulnerabilities-and-flaws",
          "agents": "50%"
        },
        "blue": {
          "role": "defend",
          "objective": "justify-and-protect",
          "agents": "50%"
        }
      },
      "rounds": 3,
      "adjudicator": "neutral-judge",
      "output": "battle-tested-verdict"
    },
    "rapid-fire": {
      "name": "Rapid Fire",
      "description": "Quick successive critiques with minimal deliberation time",
      "timePerAgent": "30-seconds",
      "style": "fast-paced",
      "allowRebuttals": false,
      "rounds": 1,
      "synthesisPhase": "mandatory",
      "output": "quick-consensus"
    },
    "world-cafe": {
      "name": "World Caf√©",
      "description": "Multiple small groups discuss different aspects, then cross-pollinate",
      "groups": "3-4",
      "agentsPerGroup": "2-3",
      "topics": ["architecture", "security", "performance", "maintainability"],
      "rotationRounds": 2,
      "hostStays": true,
      "crossPollination": true,
      "output": "holistic-multi-topic-verdict"
    },
    "six-thinking-hats": {
      "name": "Six Thinking Hats",
      "description": "Edward de Bono's method - agents wear different thinking 'hats' sequentially",
      "hats": {
        "white": "Facts and information (objective data)",
        "red": "Emotions and intuition (gut feelings)",
        "black": "Caution and risks (what could go wrong)",
        "yellow": "Benefits and optimism (what could go right)",
        "green": "Creativity and alternatives (new ideas)",
        "blue": "Process control (meta-thinking)"
      },
      "sequence": ["white", "red", "black", "yellow", "green", "blue"],
      "timePerHat": "3-5 minutes",
      "output": "multi-perspective-balanced-verdict"
    },
    "appreciative-inquiry": {
      "name": "Appreciative Inquiry",
      "description": "Positive-focused review emphasizing strengths and potential",
      "phases": {
        "discover": "What's working well in this code?",
        "dream": "What could this code become at its best?",
        "design": "How can we bridge current state to ideal?",
        "destiny": "What concrete steps will get us there?"
      },
      "tone": "positive-constructive",
      "focusOn": "strengths-and-possibilities",
      "output": "strength-based-improvement-plan"
    },
    "consensus-circle": {
      "name": "Consensus Circle",
      "description": "Indigenous consensus-building where everyone must consent",
      "structure": "circle",
      "speakingOrder": "clockwise",
      "speakingToken": "passed-around",
      "decisionRule": "full-consent-required",
      "blocksAllowed": true,
      "blockRequiresAlternative": true,
      "output": "full-consent-verdict"
    },
    "lightning-decision-jam": {
      "name": "Lightning Decision Jam",
      "description": "Design sprint inspired rapid decision-making",
      "phases": [
        {"name": "identify-problems", "time": "3min", "silent": true},
        {"name": "vote-on-problems", "time": "2min", "dots": 2},
        {"name": "reframe-as-opportunities", "time": "3min"},
        {"name": "ideate-solutions", "time": "5min", "silent": true},
        {"name": "vote-on-solutions", "time": "2min", "dots": 3},
        {"name": "commit-to-action", "time": "3min"}
      ],
      "totalTime": "18 minutes",
      "silentPhases": ["identify-problems", "ideate-solutions"],
      "output": "actionable-decision-with-commitment"
    },
    "dual-track-agile": {
      "name": "Dual-Track Agile",
      "description": "Parallel discovery and delivery tracks",
      "tracks": {
        "discovery": {
          "agents": "50%",
          "focus": "explore-alternatives-and-risks",
          "output": "validated-learning"
        },
        "delivery": {
          "agents": "50%",
          "focus": "implementation-review",
          "output": "production-readiness-assessment"
        }
      },
      "parallelExecution": true,
      "convergence": "synthesis-agent-integrates-both",
      "output": "dual-validated-verdict"
    },
    "expert-panel": {
      "name": "Expert Panel",
      "description": "Expert panelists with Q&A from audience agents",
      "roles": {
        "experts": {
          "count": 3,
          "selection": "highest-expertise-match",
          "responsibility": "present-findings"
        },
        "audience": {
          "count": "remaining",
          "responsibility": "ask-questions-and-vote"
        }
      },
      "phases": [
        {"name": "expert-presentations", "time": "10min"},
        {"name": "audience-questions", "time": "8min"},
        {"name": "expert-responses", "time": "7min"},
        {"name": "audience-voting", "weighted": "by-expertise"}
      ],
      "output": "expert-informed-verdict"
    }
  },

  "votingMechanisms": {
    "simple-majority": {
      "threshold": 0.5,
      "useCase": "Low-stakes decisions"
    },
    "super-majority": {
      "threshold": 0.66,
      "useCase": "Standard reviews"
    },
    "consensus": {
      "threshold": 0.9,
      "useCase": "Critical decisions"
    },
    "weighted": {
      "description": "Weights based on agent expertise match",
      "expertiseBonus": 1.5,
      "useCase": "Specialized code"
    },
    "ranked-choice": {
      "description": "Agents rank options",
      "useCase": "Multiple alternatives"
    }
  },

  "commands": {
    "council:convene": "commands/convene.md",
    "council:review": "commands/review.md",
    "council:debate": "commands/debate.md",
    "council:verdict": "commands/verdict.md",
    "council:dissent": "commands/dissent.md",
    "council:appeal": "commands/appeal.md",
    "council:configure": "commands/configure.md",
    "council:history": "commands/history.md",
    "council:explain": "commands/explain.md",
    "council:analyze": "commands/analyze.md",
    "council:calibrate": "commands/calibrate.md",
    "council:status": "commands/status.md"
  },

  "agents": {
    "council-convener-agent": {
      "path": "agents/council-convener-agent.md",
      "model": "sonnet",
      "description": "Convenes the council and assigns roles",
      "triggers": ["convene council", "start review", "assemble panel"]
    },
    "code-architect-agent": {
      "path": "agents/code-architect-agent.md",
      "model": "opus",
      "role": "panelist",
      "expertise": ["architecture", "design-patterns", "scalability"],
      "description": "Reviews architectural decisions and patterns"
    },
    "security-sentinel-agent": {
      "path": "agents/security-sentinel-agent.md",
      "model": "sonnet",
      "role": "panelist",
      "expertise": ["security", "vulnerabilities", "auth"],
      "description": "Reviews security implications"
    },
    "performance-guardian-agent": {
      "path": "agents/performance-guardian-agent.md",
      "model": "sonnet",
      "role": "panelist",
      "expertise": ["performance", "optimization", "efficiency"],
      "description": "Reviews performance characteristics"
    },
    "maintainability-advocate-agent": {
      "path": "agents/maintainability-advocate-agent.md",
      "model": "sonnet",
      "role": "panelist",
      "expertise": ["readability", "maintainability", "testing"],
      "description": "Reviews code maintainability"
    },
    "domain-expert-agent": {
      "path": "agents/domain-expert-agent.md",
      "model": "sonnet",
      "role": "panelist",
      "expertise": ["business-logic", "domain", "requirements"],
      "description": "Reviews domain correctness"
    },
    "devils-advocate-agent": {
      "path": "agents/devils-advocate-agent.md",
      "model": "opus",
      "role": "adversarial",
      "expertise": ["critique", "edge-cases", "assumptions"],
      "description": "Actively argues against approval"
    },
    "integration-specialist-agent": {
      "path": "agents/integration-specialist-agent.md",
      "model": "sonnet",
      "role": "panelist",
      "expertise": ["api", "integration", "compatibility"],
      "description": "Reviews integration aspects"
    },
    "test-advocate-agent": {
      "path": "agents/test-advocate-agent.md",
      "model": "sonnet",
      "role": "panelist",
      "expertise": ["testing", "coverage", "edge-cases"],
      "description": "Reviews test quality and coverage"
    },
    "moderator-agent": {
      "path": "agents/moderator-agent.md",
      "model": "sonnet",
      "role": "moderator",
      "description": "Facilitates deliberation and ensures fairness"
    },
    "synthesis-agent": {
      "path": "agents/synthesis-agent.md",
      "model": "opus",
      "role": "synthesizer",
      "description": "Synthesizes opinions into coherent verdict"
    },
    "dissent-recorder-agent": {
      "path": "agents/dissent-recorder-agent.md",
      "model": "haiku",
      "role": "recorder",
      "description": "Records and preserves minority opinions"
    },
    "verdict-writer-agent": {
      "path": "agents/verdict-writer-agent.md",
      "model": "sonnet",
      "role": "writer",
      "description": "Writes clear, actionable verdict documents"
    },
    "appeal-handler-agent": {
      "path": "agents/appeal-handler-agent.md",
      "model": "opus",
      "role": "appeals",
      "description": "Handles appeals to council decisions"
    },
    "calibration-agent": {
      "path": "agents/calibration-agent.md",
      "model": "haiku",
      "role": "calibration",
      "description": "Calibrates council accuracy over time"
    },
    "team-manager-agent": {
      "path": "agents/team-manager-agent.md",
      "model": "opus",
      "role": "manager",
      "expertise": ["delegation", "coordination", "strategy"],
      "description": "Manages autogen-style team delegation and coordination"
    },
    "red-team-leader-agent": {
      "path": "agents/red-team-leader-agent.md",
      "model": "sonnet",
      "role": "red-team-lead",
      "expertise": ["offensive", "vulnerability-finding", "attack-patterns"],
      "description": "Leads red team in finding vulnerabilities and flaws"
    },
    "blue-team-leader-agent": {
      "path": "agents/blue-team-leader-agent.md",
      "model": "sonnet",
      "role": "blue-team-lead",
      "expertise": ["defensive", "justification", "mitigation"],
      "description": "Leads blue team in defending and justifying code"
    },
    "thinking-hats-facilitator-agent": {
      "path": "agents/thinking-hats-facilitator-agent.md",
      "model": "sonnet",
      "role": "facilitator",
      "expertise": ["meta-cognition", "perspective-taking", "process-facilitation"],
      "description": "Facilitates Six Thinking Hats protocol, guides agents through perspectives"
    },
    "appreciative-coach-agent": {
      "path": "agents/appreciative-coach-agent.md",
      "model": "sonnet",
      "role": "coach",
      "expertise": ["positive-psychology", "strengths-based-review", "potential-identification"],
      "description": "Guides Appreciative Inquiry process, focuses on strengths and possibilities"
    },
    "consensus-keeper-agent": {
      "path": "agents/consensus-keeper-agent.md",
      "model": "haiku",
      "role": "keeper",
      "expertise": ["consensus-building", "facilitation", "conflict-resolution"],
      "description": "Maintains consensus circle process, ensures full consent achieved"
    }
  },

  "skills": {
    "deliberation": {
      "path": "skills/deliberation.md",
      "description": "Multi-agent deliberation techniques",
      "triggers": ["debate", "deliberate", "discuss"]
    },
    "adversarial-review": {
      "path": "skills/adversarial-review.md",
      "description": "Adversarial review techniques",
      "triggers": ["adversarial", "critique", "attack"]
    },
    "consensus-building": {
      "path": "skills/consensus-building.md",
      "description": "Building consensus among agents",
      "triggers": ["consensus", "agree", "unite"]
    },
    "dissent-preservation": {
      "path": "skills/dissent-preservation.md",
      "description": "Recording and valuing minority opinions",
      "triggers": ["dissent", "minority", "disagree"]
    },
    "verdict-writing": {
      "path": "skills/verdict-writing.md",
      "description": "Writing clear review verdicts",
      "triggers": ["verdict", "decision", "ruling"]
    },
    "expertise-matching": {
      "path": "skills/expertise-matching.md",
      "description": "Matching agents to code domains",
      "triggers": ["expertise", "specialist", "domain"]
    }
  },

  "hooks": {
    "onPRCreated": {
      "script": "hooks/scripts/auto-convene.sh",
      "description": "Auto-convenes council for new PRs"
    },
    "onVerdictReached": {
      "script": "hooks/scripts/verdict-notification.sh",
      "description": "Notifies stakeholders of verdict"
    },
    "onAppeal": {
      "script": "hooks/scripts/handle-appeal.sh",
      "description": "Handles appeals to decisions"
    },
    "postReview": {
      "script": "hooks/scripts/calibrate-accuracy.sh",
      "description": "Calibrates based on outcomes"
    }
  },

  "councilChambers": {
    "path": "council-chambers/",
    "files": [
      "deliberation-templates.json",
      "voting-protocols.json",
      "role-definitions.json",
      "verdict-templates.json"
    ]
  },

  "permissions": {
    "filesystem": [
      { "path": "**/*", "access": "read" },
      { "path": ".claude/council/**", "access": "readwrite" }
    ],
    "tools": ["Bash", "Read", "Grep", "Glob", "Task", "Edit"],
    "mcpServers": ["github"]
  },

  "configuration": {
    "schema": {
      "type": "object",
      "properties": {
        "defaultPanelSize": {
          "type": "string",
          "enum": ["quick", "standard", "thorough", "full"],
          "default": "standard"
        },
        "deliberationProtocol": {
          "type": "string",
          "enum": ["adversarial", "socratic", "dialectic", "jury", "delphi", "devils-advocate", "round-robin", "autogen-team", "panel-discussion", "fishbowl", "think-tank", "red-blue-team", "rapid-fire", "world-cafe", "six-thinking-hats", "appreciative-inquiry", "consensus-circle", "lightning-decision-jam", "dual-track-agile", "expert-panel"],
          "default": "adversarial"
        },
        "votingMechanism": {
          "type": "string",
          "enum": ["simple-majority", "super-majority", "consensus", "weighted", "ranked-choice"],
          "default": "super-majority"
        },
        "requireDevilsAdvocate": {
          "type": "boolean",
          "default": true
        },
        "preserveDissent": {
          "type": "boolean",
          "default": true
        },
        "autoConveneOnPR": {
          "type": "boolean",
          "default": true
        },
        "minReviewersForMerge": {
          "type": "number",
          "default": 3
        }
      }
    }
  },

  "activation": {
    "auto": false,
    "priority": 875,
    "conditions": {
      "keywords": [
        "council", "tribunal", "panel", "review council", "deliberate",
        "debate code", "adversarial review", "vote on"
      ]
    }
  }
}
