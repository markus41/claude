{
  "$schema": "../schemas/role-definition.schema.json",
  "version": "1.0.0",
  "roles": {
    "panelist": {
      "name": "Panelist",
      "description": "Core reviewer with domain expertise",
      "responsibilities": [
        "Review code within expertise domain",
        "Provide evidence-based analysis",
        "Vote on approval",
        "Collaborate with other panelists"
      ],
      "permissions": {
        "canVote": true,
        "canPropose": true,
        "canVeto": false,
        "canModerate": false
      },
      "expectedAgents": [
        "code-architect-agent",
        "security-sentinel-agent",
        "performance-guardian-agent",
        "maintainability-advocate-agent",
        "domain-expert-agent",
        "integration-specialist-agent",
        "test-advocate-agent"
      ]
    },
    "moderator": {
      "name": "Moderator",
      "description": "Facilitates deliberation and ensures fair process",
      "responsibilities": [
        "Manage speaking turns",
        "Enforce protocol rules",
        "Guide toward consensus",
        "Resolve procedural disputes",
        "Ensure all voices heard"
      ],
      "permissions": {
        "canVote": false,
        "canPropose": true,
        "canVeto": false,
        "canModerate": true,
        "canInterrupt": true
      },
      "expectedAgents": ["moderator-agent"]
    },
    "synthesizer": {
      "name": "Synthesizer",
      "description": "Integrates findings into coherent verdict",
      "responsibilities": [
        "Synthesize panelist opinions",
        "Identify common themes",
        "Resolve contradictions",
        "Produce unified verdict",
        "Ensure logical consistency"
      ],
      "permissions": {
        "canVote": false,
        "canPropose": true,
        "canVeto": false,
        "canModerate": false
      },
      "expectedAgents": ["synthesis-agent"]
    },
    "adversarial": {
      "name": "Adversarial Agent",
      "description": "Dedicated opposition role",
      "responsibilities": [
        "Argue against approval",
        "Find flaws and vulnerabilities",
        "Challenge assumptions",
        "Stress-test arguments",
        "Present worst-case scenarios"
      ],
      "permissions": {
        "canVote": true,
        "canPropose": true,
        "canVeto": false,
        "canModerate": false
      },
      "expectedAgents": ["devils-advocate-agent"],
      "protocols": ["devils-advocate", "adversarial"]
    },
    "manager": {
      "name": "Team Manager",
      "description": "Coordinates hierarchical team reviews",
      "responsibilities": [
        "Decompose review into tasks",
        "Delegate to workers",
        "Integrate worker reports",
        "Coordinate iterations",
        "Produce team verdict"
      ],
      "permissions": {
        "canVote": false,
        "canPropose": true,
        "canVeto": false,
        "canModerate": true,
        "canDelegate": true
      },
      "expectedAgents": ["team-manager-agent"],
      "protocols": ["autogen-team"]
    },
    "worker": {
      "name": "Worker Agent",
      "description": "Specialized analyst in autogen team",
      "responsibilities": [
        "Analyze assigned domain",
        "Report findings to manager",
        "Respond to manager requests",
        "Collaborate with other workers"
      ],
      "permissions": {
        "canVote": false,
        "canPropose": true,
        "canVeto": false,
        "canModerate": false,
        "reportsTo": "manager"
      },
      "protocols": ["autogen-team"]
    },
    "critic": {
      "name": "Critic",
      "description": "Validates integrated findings for blind spots",
      "responsibilities": [
        "Review synthesized findings",
        "Identify gaps and weaknesses",
        "Challenge conclusions",
        "Ensure thoroughness"
      ],
      "permissions": {
        "canVote": false,
        "canPropose": true,
        "canVeto": false,
        "canModerate": false
      },
      "expectedAgents": ["devils-advocate-agent"],
      "protocols": ["autogen-team"]
    },
    "red-team-lead": {
      "name": "Red Team Leader",
      "description": "Coordinates offensive security analysis",
      "responsibilities": [
        "Lead red team attacks",
        "Assign attack vectors",
        "Synthesize vulnerabilities",
        "Argue for rejection if critical flaws found"
      ],
      "permissions": {
        "canVote": true,
        "canPropose": true,
        "canVeto": true,
        "canModerate": false,
        "vetoConditions": ["critical-vulnerability"]
      },
      "expectedAgents": ["red-team-leader-agent"],
      "protocols": ["red-blue-team"]
    },
    "red-team-member": {
      "name": "Red Team Member",
      "description": "Offensive security analyst",
      "responsibilities": [
        "Find vulnerabilities",
        "Craft exploits",
        "Test mitigations",
        "Report to red team leader"
      ],
      "permissions": {
        "canVote": true,
        "canPropose": true,
        "canVeto": false,
        "canModerate": false,
        "reportsTo": "red-team-lead"
      },
      "protocols": ["red-blue-team"]
    },
    "blue-team-lead": {
      "name": "Blue Team Leader",
      "description": "Coordinates defensive justification",
      "responsibilities": [
        "Lead blue team defense",
        "Coordinate mitigation proposals",
        "Synthesize defenses",
        "Argue for approval with mitigations"
      ],
      "permissions": {
        "canVote": true,
        "canPropose": true,
        "canVeto": false,
        "canModerate": false
      },
      "expectedAgents": ["blue-team-leader-agent"],
      "protocols": ["red-blue-team"]
    },
    "blue-team-member": {
      "name": "Blue Team Member",
      "description": "Defensive analyst",
      "responsibilities": [
        "Justify design decisions",
        "Propose mitigations",
        "Defend against attacks",
        "Report to blue team leader"
      ],
      "permissions": {
        "canVote": true,
        "canPropose": true,
        "canVeto": false,
        "canModerate": false,
        "reportsTo": "blue-team-lead"
      },
      "protocols": ["red-blue-team"]
    },
    "adjudicator": {
      "name": "Adjudicator",
      "description": "Neutral judge for adversarial protocols",
      "responsibilities": [
        "Weigh competing arguments",
        "Assess evidence objectively",
        "Render final verdict",
        "Remain impartial"
      ],
      "permissions": {
        "canVote": true,
        "canPropose": true,
        "canVeto": false,
        "canModerate": true,
        "finalSay": true
      },
      "expectedAgents": ["moderator-agent", "synthesis-agent"],
      "protocols": ["red-blue-team", "adversarial"]
    },
    "recorder": {
      "name": "Recorder",
      "description": "Documents deliberation and minority opinions",
      "responsibilities": [
        "Record deliberation transcript",
        "Preserve minority opinions",
        "Document rationale",
        "Ensure transparency"
      ],
      "permissions": {
        "canVote": false,
        "canPropose": false,
        "canVeto": false,
        "canModerate": false
      },
      "expectedAgents": ["dissent-recorder-agent"]
    },
    "writer": {
      "name": "Verdict Writer",
      "description": "Produces clear, actionable verdict documents",
      "responsibilities": [
        "Write verdict document",
        "Ensure clarity and actionability",
        "Include all required sections",
        "Format for readability"
      ],
      "permissions": {
        "canVote": false,
        "canPropose": false,
        "canVeto": false,
        "canModerate": false
      },
      "expectedAgents": ["verdict-writer-agent"]
    },
    "facilitator": {
      "name": "Facilitator",
      "description": "Guides special protocols (Six Hats, Appreciative Inquiry)",
      "responsibilities": [
        "Guide protocol execution",
        "Manage perspective rotations",
        "Ensure protocol fidelity",
        "Support agents in their roles"
      ],
      "permissions": {
        "canVote": false,
        "canPropose": true,
        "canVeto": false,
        "canModerate": true
      },
      "expectedAgents": [
        "thinking-hats-facilitator-agent",
        "appreciative-coach-agent"
      ],
      "protocols": ["six-thinking-hats", "appreciative-inquiry"]
    },
    "keeper": {
      "name": "Consensus Keeper",
      "description": "Maintains consensus process integrity",
      "responsibilities": [
        "Track consent levels",
        "Identify blocks",
        "Facilitate conflict resolution",
        "Ensure full consent achieved"
      ],
      "permissions": {
        "canVote": false,
        "canPropose": true,
        "canVeto": false,
        "canModerate": true
      },
      "expectedAgents": ["consensus-keeper-agent"],
      "protocols": ["consensus-circle"]
    },
    "expert": {
      "name": "Expert Panelist",
      "description": "Subject matter expert with enhanced weight",
      "responsibilities": [
        "Provide expert analysis",
        "Present findings to audience",
        "Answer questions",
        "Weighted vote"
      ],
      "permissions": {
        "canVote": true,
        "canPropose": true,
        "canVeto": false,
        "canModerate": false,
        "voteWeight": 1.5
      },
      "protocols": ["expert-panel"]
    },
    "audience": {
      "name": "Audience Member",
      "description": "Observes expert panel and votes",
      "responsibilities": [
        "Listen to expert presentations",
        "Ask clarifying questions",
        "Vote on final decision"
      ],
      "permissions": {
        "canVote": true,
        "canPropose": false,
        "canVeto": false,
        "canModerate": false,
        "voteWeight": 1.0
      },
      "protocols": ["expert-panel"]
    }
  },
  "roleAssignmentStrategies": {
    "expertise-match": {
      "description": "Assign roles based on agent expertise matching code domain",
      "algorithm": "Calculate overlap between agent expertise and code components, assign highest matches",
      "example": "Security-heavy code → Assign security-sentinel-agent as panelist with high weight"
    },
    "random-balanced": {
      "description": "Random assignment ensuring diversity of perspectives",
      "algorithm": "Random selection with constraints on expertise diversity",
      "example": "Ensure panel has at least 1 security, 1 performance, 1 architecture expert"
    },
    "protocol-defined": {
      "description": "Roles determined by protocol requirements",
      "algorithm": "Protocol specifies required roles, agents assigned based on capabilities",
      "example": "Red/Blue protocol → Split agents into red and blue teams"
    },
    "self-selection": {
      "description": "Agents volunteer for roles based on interest",
      "algorithm": "Agents indicate role preference, assign based on qualifications + preference",
      "example": "Devil's advocate role offered to agents with adversarial skills"
    }
  },
  "roleRotation": {
    "fishbowl": {
      "description": "Inner and outer circle rotation",
      "schedule": "Every 7 minutes, swap 2 agents from inner to outer and vice versa"
    },
    "world-cafe": {
      "description": "Topic group rotation",
      "schedule": "After each round, participants move to new topic group, hosts stay"
    },
    "six-thinking-hats": {
      "description": "All agents rotate through thinking perspectives",
      "schedule": "All agents wear same hat simultaneously, rotate every 3-5 minutes"
    }
  },
  "conflictResolution": {
    "role-conflict": {
      "scenario": "Two agents want same role",
      "resolution": "Moderator assigns based on expertise match, loser gets second-choice role"
    },
    "role-abandonment": {
      "scenario": "Agent not fulfilling role responsibilities",
      "resolution": "Moderator warns once, then replaces agent if behavior continues"
    },
    "role-confusion": {
      "scenario": "Agent unclear on role expectations",
      "resolution": "Moderator clarifies role definition, provides examples"
    }
  }
}
