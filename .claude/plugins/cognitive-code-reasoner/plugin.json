{
  "$schema": "../../core/schemas/plugin.schema.json",
  "name": "cognitive-code-reasoner",
  "displayName": "Cognitive Code Reasoner",
  "callsign": "Didact",
  "faction": "Forerunner",
  "version": "1.0.0",
  "description": "Didact - The Teacher of deep understanding. Revolutionary debugging and code analysis using extended thinking and multi-step cognitive reasoning. Employs hypothesis-driven debugging, causal chain analysis, temporal state reconstruction, and emergent bug pattern detection. Thinks like a senior engineer investigating complex production incidents.",
  "author": {
    "name": "The Lobbi",
    "email": "developers@thelobbi.io"
  },
  "license": "MIT",
  "repository": "https://github.com/Lobbi-Docs/claude",
  "keywords": [
    "extended-thinking", "ultrathink", "cognitive", "reasoning",
    "hypothesis-driven", "causal-analysis", "root-cause", "debugging",
    "temporal-reasoning", "state-reconstruction", "emergent-patterns",
    "multi-step-reasoning", "chain-of-thought", "tree-of-thought",
    "abductive-reasoning", "counterfactual", "invariant-analysis"
  ],

  "thinkingModes": {
    "ultrathink": {
      "name": "Ultra-Deep Thinking",
      "budgetTokens": 32000,
      "description": "Maximum cognitive depth for complex debugging",
      "useCase": "Production incidents, Heisenbugs, race conditions",
      "duration": "10-30 minutes"
    },
    "deepthink": {
      "name": "Deep Thinking",
      "budgetTokens": 16000,
      "description": "Thorough analysis with multiple hypothesis exploration",
      "useCase": "Complex bugs, architectural issues",
      "duration": "3-10 minutes"
    },
    "quickthink": {
      "name": "Quick Reasoning",
      "budgetTokens": 4000,
      "description": "Fast hypothesis generation for simpler issues",
      "useCase": "Common bugs, known patterns",
      "duration": "30 seconds - 2 minutes"
    }
  },

  "reasoningFrameworks": {
    "hypothesis-driven": {
      "name": "Hypothesis-Driven Debugging",
      "phases": [
        "observation-gathering",
        "hypothesis-generation",
        "experiment-design",
        "prediction-making",
        "experiment-execution",
        "result-analysis",
        "hypothesis-refinement"
      ],
      "maxIterations": 5,
      "confidenceThreshold": 0.85
    },
    "causal-chain": {
      "name": "Causal Chain Analysis",
      "description": "Traces cause-effect relationships through code execution",
      "techniques": ["backward-chaining", "forward-chaining", "counterfactual"],
      "outputs": ["causal-graph", "intervention-points"]
    },
    "temporal-reasoning": {
      "name": "Temporal State Reconstruction",
      "description": "Reconstructs system state at any point in time",
      "inputs": ["logs", "metrics", "git-history", "events"],
      "capabilities": ["state-at-time-t", "state-diff", "divergence-detection"]
    },
    "invariant-analysis": {
      "name": "Invariant Analysis",
      "description": "Identifies broken invariants and contract violations",
      "types": ["data-invariants", "state-invariants", "protocol-invariants"],
      "detection": "static + dynamic"
    },
    "emergent-pattern": {
      "name": "Emergent Pattern Detection",
      "description": "Detects patterns that only emerge from component interactions",
      "scope": ["distributed-systems", "async-code", "concurrent-access"],
      "patterns": ["race-conditions", "deadlocks", "livelocks", "cascading-failures"]
    }
  },

  "commands": {
    "reason:debug": "commands/debug.md",
    "reason:root-cause": "commands/root-cause.md",
    "reason:hypothesis": "commands/hypothesis.md",
    "reason:trace": "commands/trace.md",
    "reason:temporal": "commands/temporal.md",
    "reason:invariant": "commands/invariant.md",
    "reason:emergent": "commands/emergent.md",
    "reason:counterfactual": "commands/counterfactual.md",
    "reason:explain": "commands/explain.md",
    "reason:predict": "commands/predict.md",
    "reason:reproduce": "commands/reproduce.md",
    "reason:status": "commands/status.md"
  },

  "agents": {
    "master-reasoner-agent": {
      "path": "agents/master-reasoner-agent.md",
      "model": "opus",
      "thinkingMode": "ultrathink",
      "description": "Master reasoning coordinator using maximum cognitive depth",
      "triggers": ["ultrathink", "deep debug", "complex bug", "impossible bug"]
    },
    "hypothesis-generator-agent": {
      "path": "agents/hypothesis-generator-agent.md",
      "model": "opus",
      "thinkingMode": "deepthink",
      "description": "Generates ranked hypotheses from symptoms and code analysis",
      "triggers": ["hypothesis", "what could cause", "possible reasons"]
    },
    "causal-tracer-agent": {
      "path": "agents/causal-tracer-agent.md",
      "model": "sonnet",
      "thinkingMode": "deepthink",
      "description": "Traces causal chains through code and data flow",
      "triggers": ["trace cause", "how did this happen", "causal chain"]
    },
    "temporal-reconstructor-agent": {
      "path": "agents/temporal-reconstructor-agent.md",
      "model": "sonnet",
      "thinkingMode": "deepthink",
      "description": "Reconstructs system state at specific points in time",
      "triggers": ["what was state", "at time", "before failure", "state reconstruction"]
    },
    "invariant-detector-agent": {
      "path": "agents/invariant-detector-agent.md",
      "model": "sonnet",
      "description": "Identifies violated invariants and contracts",
      "triggers": ["invariant", "contract violation", "consistency check"]
    },
    "race-condition-hunter-agent": {
      "path": "agents/race-condition-hunter-agent.md",
      "model": "opus",
      "thinkingMode": "ultrathink",
      "description": "Specializes in detecting race conditions and timing bugs",
      "triggers": ["race condition", "timing bug", "heisenbug", "intermittent"]
    },
    "deadlock-analyzer-agent": {
      "path": "agents/deadlock-analyzer-agent.md",
      "model": "sonnet",
      "description": "Analyzes lock patterns for deadlock potential",
      "triggers": ["deadlock", "lock order", "hang", "freeze"]
    },
    "memory-reasoner-agent": {
      "path": "agents/memory-reasoner-agent.md",
      "model": "sonnet",
      "description": "Reasons about memory issues: leaks, corruption, overflow",
      "triggers": ["memory leak", "memory corruption", "buffer overflow", "oom"]
    },
    "distributed-failure-agent": {
      "path": "agents/distributed-failure-agent.md",
      "model": "opus",
      "thinkingMode": "ultrathink",
      "description": "Analyzes failures in distributed systems",
      "triggers": ["distributed", "network partition", "cascade failure", "split brain"]
    },
    "counterfactual-agent": {
      "path": "agents/counterfactual-agent.md",
      "model": "sonnet",
      "thinkingMode": "deepthink",
      "description": "Explores 'what if' scenarios to validate hypotheses",
      "triggers": ["what if", "counterfactual", "alternative", "would have"]
    },
    "reproduction-agent": {
      "path": "agents/reproduction-agent.md",
      "model": "sonnet",
      "description": "Designs minimal reproduction cases for bugs",
      "triggers": ["reproduce", "minimal case", "repro steps"]
    },
    "explanation-agent": {
      "path": "agents/explanation-agent.md",
      "model": "sonnet",
      "description": "Explains complex bugs in understandable terms",
      "triggers": ["explain", "why", "how", "understand"]
    },
    "pattern-recognizer-agent": {
      "path": "agents/pattern-recognizer-agent.md",
      "model": "haiku",
      "description": "Matches symptoms against known bug patterns",
      "triggers": ["pattern", "seen before", "common issue", "known bug"]
    },
    "fix-synthesizer-agent": {
      "path": "agents/fix-synthesizer-agent.md",
      "model": "sonnet",
      "description": "Synthesizes fixes from root cause analysis",
      "triggers": ["fix", "solution", "how to fix", "patch"]
    },
    "verification-agent": {
      "path": "agents/verification-agent.md",
      "model": "sonnet",
      "description": "Verifies that proposed fixes address root cause",
      "triggers": ["verify fix", "will this work", "validate solution"]
    }
  },

  "skills": {
    "extended-thinking": {
      "path": "skills/extended-thinking.md",
      "description": "Deep extended thinking for complex problem solving",
      "triggers": ["think hard", "ultrathink", "deep analysis"]
    },
    "hypothesis-debugging": {
      "path": "skills/hypothesis-debugging.md",
      "description": "Scientific hypothesis-driven debugging methodology",
      "triggers": ["hypothesis", "scientific debugging", "systematic debug"]
    },
    "causal-analysis": {
      "path": "skills/causal-analysis.md",
      "description": "Causal chain tracing and intervention analysis",
      "triggers": ["cause", "effect", "trace", "causal"]
    },
    "temporal-analysis": {
      "path": "skills/temporal-analysis.md",
      "description": "Time-based state reconstruction and analysis",
      "triggers": ["temporal", "time", "history", "state"]
    },
    "concurrency-analysis": {
      "path": "skills/concurrency-analysis.md",
      "description": "Analysis of concurrent and parallel code issues",
      "triggers": ["race", "concurrent", "parallel", "async", "thread"]
    },
    "distributed-systems": {
      "path": "skills/distributed-systems.md",
      "description": "Distributed systems failure analysis",
      "triggers": ["distributed", "network", "partition", "consensus"]
    },
    "memory-analysis": {
      "path": "skills/memory-analysis.md",
      "description": "Memory issue detection and analysis",
      "triggers": ["memory", "leak", "heap", "stack", "gc"]
    },
    "formal-verification": {
      "path": "skills/formal-verification.md",
      "description": "Formal methods for correctness verification",
      "triggers": ["prove", "verify", "invariant", "formal"]
    }
  },

  "reasoningPatterns": {
    "path": "reasoning-patterns/",
    "patterns": [
      "null-pointer-chain.json",
      "off-by-one-variants.json",
      "async-timing-windows.json",
      "resource-lifecycle.json",
      "state-machine-violations.json",
      "boundary-conditions.json",
      "error-propagation.json",
      "retry-amplification.json",
      "cache-coherence.json",
      "serialization-mismatch.json",
      "version-skew.json",
      "cascading-timeout.json"
    ]
  },

  "hooks": {
    "onError": {
      "script": "hooks/scripts/auto-reason.sh",
      "description": "Automatically triggers reasoning on unhandled errors"
    },
    "onTestFailure": {
      "script": "hooks/scripts/failure-analysis.sh",
      "description": "Analyzes test failures with cognitive reasoning"
    },
    "preFix": {
      "script": "hooks/scripts/verify-hypothesis.sh",
      "description": "Verifies fix hypothesis before implementation"
    },
    "postFix": {
      "script": "hooks/scripts/validate-fix.sh",
      "description": "Validates fix addressed root cause"
    }
  },

  "permissions": {
    "filesystem": [
      { "path": "**/*", "access": "read" },
      { "path": ".claude/reasoning/**", "access": "readwrite" }
    ],
    "tools": ["Bash", "Read", "Grep", "Glob", "Task"],
    "mcpServers": []
  },

  "configuration": {
    "schema": {
      "type": "object",
      "properties": {
        "defaultThinkingMode": {
          "type": "string",
          "enum": ["ultrathink", "deepthink", "quickthink"],
          "default": "deepthink"
        },
        "maxReasoningIterations": {
          "type": "number",
          "default": 5
        },
        "confidenceThreshold": {
          "type": "number",
          "default": 0.85,
          "minimum": 0.5,
          "maximum": 1.0
        },
        "autoTriggerOnError": {
          "type": "boolean",
          "default": true
        },
        "persistReasoning": {
          "type": "boolean",
          "default": true,
          "description": "Save reasoning traces for learning"
        }
      }
    }
  },

  "activation": {
    "auto": true,
    "priority": 950,
    "conditions": {
      "keywords": [
        "debug", "bug", "error", "failure", "crash", "why",
        "root cause", "investigate", "analyze", "understand",
        "heisenbug", "race condition", "deadlock", "memory leak"
      ]
    }
  }
}
